import{T as Nr,U as Zr,z as Z,K as Q,H as _,B as se,C as I,A as Mr,y as Nt,F as zr,o as jr,V as Lr}from"./main-BJp4tSWu.js";function Zt(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=Zt(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Dr(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=Zt(e))&&(n&&(n+=" "),n+=t);return n}const qr=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},Vr=(e,t)=>({classGroupId:e,validator:t}),Mt=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),we="-",Ye=[],Ur="arbitrary..",Br=e=>{const t=Gr(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return Fr(a);const i=a.split(we),l=i[0]===""&&i.length>1?1:0;return zt(i,l,t)},getConflictingClassGroupIds:(a,i)=>{if(i){const l=n[a],c=r[a];return l?c?qr(c,l):l:c||Ye}return r[a]||Ye}}},zt=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const o=e[t],s=r.nextPart.get(o);if(s){const c=zt(e,t+1,s);if(c)return c}const a=r.validators;if(a===null)return;const i=t===0?e.join(we):e.slice(t).join(we),l=a.length;for(let c=0;c<l;c++){const u=a[c];if(u.validator(i))return u.classGroupId}},Fr=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?Ur+n:void 0})(),Gr=e=>{const{theme:t,classGroups:r}=e;return Jr(r,t)},Jr=(e,t)=>{const r=Mt();for(const n in e){const o=e[n];Le(o,r,n,t)}return r},Le=(e,t,r,n)=>{const o=e.length;for(let s=0;s<o;s++){const a=e[s];Hr(a,t,r,n)}},Hr=(e,t,r,n)=>{if(typeof e=="string"){Wr(e,t,r);return}if(typeof e=="function"){Yr(e,t,r,n);return}Xr(e,t,r,n)},Wr=(e,t,r)=>{const n=e===""?t:jt(t,e);n.classGroupId=r},Yr=(e,t,r,n)=>{if(Qr(e)){Le(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(Vr(r,e))},Xr=(e,t,r,n)=>{const o=Object.entries(e),s=o.length;for(let a=0;a<s;a++){const[i,l]=o[a];Le(l,jt(t,i),r,n)}},jt=(e,t)=>{let r=e;const n=t.split(we),o=n.length;for(let s=0;s<o;s++){const a=n[s];let i=r.nextPart.get(a);i||(i=Mt(),r.nextPart.set(a,i)),r=i}return r},Qr=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Kr=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const o=(s,a)=>{r[s]=a,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(s){let a=r[s];if(a!==void 0)return a;if((a=n[s])!==void 0)return o(s,a),a},set(s,a){s in r?r[s]=a:o(s,a)}}},Te="!",Xe=":",en=[],Qe=(e,t,r,n,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:o}),tn=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=o=>{const s=[];let a=0,i=0,l=0,c;const u=o.length;for(let m=0;m<u;m++){const w=o[m];if(a===0&&i===0){if(w===Xe){s.push(o.slice(l,m)),l=m+1;continue}if(w==="/"){c=m;continue}}w==="["?a++:w==="]"?a--:w==="("?i++:w===")"&&i--}const f=s.length===0?o:o.slice(l);let b=f,k=!1;f.endsWith(Te)?(b=f.slice(0,-1),k=!0):f.startsWith(Te)&&(b=f.slice(1),k=!0);const S=c&&c>l?c-l:void 0;return Qe(s,k,b,S)};if(t){const o=t+Xe,s=n;n=a=>a.startsWith(o)?s(a.slice(o.length)):Qe(en,!1,a,void 0,!0)}if(r){const o=n;n=s=>r({className:s,parseClassName:o})}return n},rn=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let o=[];for(let s=0;s<r.length;s++){const a=r[s],i=a[0]==="[",l=t.has(a);i||l?(o.length>0&&(o.sort(),n.push(...o),o=[]),n.push(a)):o.push(a)}return o.length>0&&(o.sort(),n.push(...o)),n}},nn=e=>({cache:Kr(e.cacheSize),parseClassName:tn(e),sortModifiers:rn(e),...Br(e)}),on=/\s+/,sn=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:s}=t,a=[],i=e.trim().split(on);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{isExternal:f,modifiers:b,hasImportantModifier:k,baseClassName:S,maybePostfixModifierPosition:m}=r(u);if(f){l=u+(l.length>0?" "+l:l);continue}let w=!!m,P=n(w?S.substring(0,m):S);if(!P){if(!w){l=u+(l.length>0?" "+l:l);continue}if(P=n(S),!P){l=u+(l.length>0?" "+l:l);continue}w=!1}const L=b.length===0?"":b.length===1?b[0]:s(b).join(":"),M=k?L+Te:L,U=M+P;if(a.indexOf(U)>-1)continue;a.push(U);const W=o(P,w);for(let F=0;F<W.length;++F){const re=W[F];a.push(M+re)}l=u+(l.length>0?" "+l:l)}return l},an=(...e)=>{let t=0,r,n,o="";for(;t<e.length;)(r=e[t++])&&(n=Lt(r))&&(o&&(o+=" "),o+=n);return o},Lt=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Lt(e[n]))&&(r&&(r+=" "),r+=t);return r},ln=(e,...t)=>{let r,n,o,s;const a=l=>{const c=t.reduce((u,f)=>f(u),e());return r=nn(c),n=r.cache.get,o=r.cache.set,s=i,i(l)},i=l=>{const c=n(l);if(c)return c;const u=sn(l,r);return o(l,u),u};return s=a,(...l)=>s(an(...l))},cn=[],O=e=>{const t=r=>r[e]||cn;return t.isThemeGetter=!0,t},Dt=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,qt=/^\((?:(\w[\w-]*):)?(.+)\)$/i,un=/^\d+\/\d+$/,dn=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pn=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mn=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,fn=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,X=e=>un.test(e),y=e=>!!e&&!Number.isNaN(Number(e)),B=e=>!!e&&Number.isInteger(Number(e)),Ae=e=>e.endsWith("%")&&y(e.slice(0,-1)),V=e=>dn.test(e),gn=()=>!0,bn=e=>pn.test(e)&&!mn.test(e),Vt=()=>!1,vn=e=>fn.test(e),yn=e=>hn.test(e),wn=e=>!d(e)&&!p(e),kn=e=>K(e,Ft,Vt),d=e=>Dt.test(e),J=e=>K(e,Gt,bn),Pe=e=>K(e,In,y),Ke=e=>K(e,Ut,Vt),xn=e=>K(e,Bt,yn),ve=e=>K(e,Jt,vn),p=e=>qt.test(e),ne=e=>ee(e,Gt),_n=e=>ee(e,On),et=e=>ee(e,Ut),Sn=e=>ee(e,Ft),En=e=>ee(e,Bt),ye=e=>ee(e,Jt,!0),K=(e,t,r)=>{const n=Dt.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},ee=(e,t,r=!1)=>{const n=qt.exec(e);return n?n[1]?t(n[1]):r:!1},Ut=e=>e==="position"||e==="percentage",Bt=e=>e==="image"||e==="url",Ft=e=>e==="length"||e==="size"||e==="bg-size",Gt=e=>e==="length",In=e=>e==="number",On=e=>e==="family-name",Jt=e=>e==="shadow",An=()=>{const e=O("color"),t=O("font"),r=O("text"),n=O("font-weight"),o=O("tracking"),s=O("leading"),a=O("breakpoint"),i=O("container"),l=O("spacing"),c=O("radius"),u=O("shadow"),f=O("inset-shadow"),b=O("text-shadow"),k=O("drop-shadow"),S=O("blur"),m=O("perspective"),w=O("aspect"),P=O("ease"),L=O("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],W=()=>[...U(),p,d],F=()=>["auto","hidden","clip","visible","scroll"],re=()=>["auto","contain","none"],v=()=>[p,d,l],D=()=>[X,"full","auto",...v()],Ve=()=>[B,"none","subgrid",p,d],Ue=()=>["auto",{span:["full",B,p,d]},B,p,d],me=()=>[B,"auto",p,d],Be=()=>["auto","min","max","fr",p,d],Ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...v()],G=()=>[X,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...v()],h=()=>[e,p,d],Fe=()=>[...U(),et,Ke,{position:[p,d]}],Ge=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Je=()=>["auto","cover","contain",Sn,kn,{size:[p,d]}],Ie=()=>[Ae,ne,J],C=()=>["","none","full",c,p,d],$=()=>["",y,ne,J],fe=()=>["solid","dashed","dotted","double"],He=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>[y,Ae,et,Ke],We=()=>["","none",S,p,d],he=()=>["none",y,p,d],ge=()=>["none",y,p,d],Oe=()=>[y,p,d],be=()=>[X,"full",...v()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[V],breakpoint:[V],color:[gn],container:[V],"drop-shadow":[V],ease:["in","out","in-out"],font:[wn],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[V],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[V],shadow:[V],spacing:["px",y],text:[V],"text-shadow":[V],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",X,d,p,w]}],container:["container"],columns:[{columns:[y,d,p,i]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:W()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:re()}],"overscroll-x":[{"overscroll-x":re()}],"overscroll-y":[{"overscroll-y":re()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[B,"auto",p,d]}],basis:[{basis:[X,"full","auto",i,...v()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[y,X,"auto","initial","none",d]}],grow:[{grow:["",y,p,d]}],shrink:[{shrink:["",y,p,d]}],order:[{order:[B,"first","last","none",p,d]}],"grid-cols":[{"grid-cols":Ve()}],"col-start-end":[{col:Ue()}],"col-start":[{"col-start":me()}],"col-end":[{"col-end":me()}],"grid-rows":[{"grid-rows":Ve()}],"row-start-end":[{row:Ue()}],"row-start":[{"row-start":me()}],"row-end":[{"row-end":me()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Be()}],"auto-rows":[{"auto-rows":Be()}],gap:[{gap:v()}],"gap-x":[{"gap-x":v()}],"gap-y":[{"gap-y":v()}],"justify-content":[{justify:[...Ee(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...Ee()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ee()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:v()}],px:[{px:v()}],py:[{py:v()}],ps:[{ps:v()}],pe:[{pe:v()}],pt:[{pt:v()}],pr:[{pr:v()}],pb:[{pb:v()}],pl:[{pl:v()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":v()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":v()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[i,"screen",...G()]}],"min-w":[{"min-w":[i,"screen","none",...G()]}],"max-w":[{"max-w":[i,"screen","none","prose",{screen:[a]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",r,ne,J]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,p,Pe]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ae,d]}],"font-family":[{font:[_n,d,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,p,d]}],"line-clamp":[{"line-clamp":[y,"none",p,Pe]}],leading:[{leading:[s,...v()]}],"list-image":[{"list-image":["none",p,d]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",p,d]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:h()}],"text-color":[{text:h()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[y,"from-font","auto",p,J]}],"text-decoration-color":[{decoration:h()}],"underline-offset":[{"underline-offset":[y,"auto",p,d]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:v()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",p,d]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",p,d]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Fe()}],"bg-repeat":[{bg:Ge()}],"bg-size":[{bg:Je()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},B,p,d],radial:["",p,d],conic:[B,p,d]},En,xn]}],"bg-color":[{bg:h()}],"gradient-from-pos":[{from:Ie()}],"gradient-via-pos":[{via:Ie()}],"gradient-to-pos":[{to:Ie()}],"gradient-from":[{from:h()}],"gradient-via":[{via:h()}],"gradient-to":[{to:h()}],rounded:[{rounded:C()}],"rounded-s":[{"rounded-s":C()}],"rounded-e":[{"rounded-e":C()}],"rounded-t":[{"rounded-t":C()}],"rounded-r":[{"rounded-r":C()}],"rounded-b":[{"rounded-b":C()}],"rounded-l":[{"rounded-l":C()}],"rounded-ss":[{"rounded-ss":C()}],"rounded-se":[{"rounded-se":C()}],"rounded-ee":[{"rounded-ee":C()}],"rounded-es":[{"rounded-es":C()}],"rounded-tl":[{"rounded-tl":C()}],"rounded-tr":[{"rounded-tr":C()}],"rounded-br":[{"rounded-br":C()}],"rounded-bl":[{"rounded-bl":C()}],"border-w":[{border:$()}],"border-w-x":[{"border-x":$()}],"border-w-y":[{"border-y":$()}],"border-w-s":[{"border-s":$()}],"border-w-e":[{"border-e":$()}],"border-w-t":[{"border-t":$()}],"border-w-r":[{"border-r":$()}],"border-w-b":[{"border-b":$()}],"border-w-l":[{"border-l":$()}],"divide-x":[{"divide-x":$()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":$()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:h()}],"border-color-x":[{"border-x":h()}],"border-color-y":[{"border-y":h()}],"border-color-s":[{"border-s":h()}],"border-color-e":[{"border-e":h()}],"border-color-t":[{"border-t":h()}],"border-color-r":[{"border-r":h()}],"border-color-b":[{"border-b":h()}],"border-color-l":[{"border-l":h()}],"divide-color":[{divide:h()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[y,p,d]}],"outline-w":[{outline:["",y,ne,J]}],"outline-color":[{outline:h()}],shadow:[{shadow:["","none",u,ye,ve]}],"shadow-color":[{shadow:h()}],"inset-shadow":[{"inset-shadow":["none",f,ye,ve]}],"inset-shadow-color":[{"inset-shadow":h()}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:h()}],"ring-offset-w":[{"ring-offset":[y,J]}],"ring-offset-color":[{"ring-offset":h()}],"inset-ring-w":[{"inset-ring":$()}],"inset-ring-color":[{"inset-ring":h()}],"text-shadow":[{"text-shadow":["none",b,ye,ve]}],"text-shadow-color":[{"text-shadow":h()}],opacity:[{opacity:[y,p,d]}],"mix-blend":[{"mix-blend":[...He(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":He()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[y]}],"mask-image-linear-from-pos":[{"mask-linear-from":A()}],"mask-image-linear-to-pos":[{"mask-linear-to":A()}],"mask-image-linear-from-color":[{"mask-linear-from":h()}],"mask-image-linear-to-color":[{"mask-linear-to":h()}],"mask-image-t-from-pos":[{"mask-t-from":A()}],"mask-image-t-to-pos":[{"mask-t-to":A()}],"mask-image-t-from-color":[{"mask-t-from":h()}],"mask-image-t-to-color":[{"mask-t-to":h()}],"mask-image-r-from-pos":[{"mask-r-from":A()}],"mask-image-r-to-pos":[{"mask-r-to":A()}],"mask-image-r-from-color":[{"mask-r-from":h()}],"mask-image-r-to-color":[{"mask-r-to":h()}],"mask-image-b-from-pos":[{"mask-b-from":A()}],"mask-image-b-to-pos":[{"mask-b-to":A()}],"mask-image-b-from-color":[{"mask-b-from":h()}],"mask-image-b-to-color":[{"mask-b-to":h()}],"mask-image-l-from-pos":[{"mask-l-from":A()}],"mask-image-l-to-pos":[{"mask-l-to":A()}],"mask-image-l-from-color":[{"mask-l-from":h()}],"mask-image-l-to-color":[{"mask-l-to":h()}],"mask-image-x-from-pos":[{"mask-x-from":A()}],"mask-image-x-to-pos":[{"mask-x-to":A()}],"mask-image-x-from-color":[{"mask-x-from":h()}],"mask-image-x-to-color":[{"mask-x-to":h()}],"mask-image-y-from-pos":[{"mask-y-from":A()}],"mask-image-y-to-pos":[{"mask-y-to":A()}],"mask-image-y-from-color":[{"mask-y-from":h()}],"mask-image-y-to-color":[{"mask-y-to":h()}],"mask-image-radial":[{"mask-radial":[p,d]}],"mask-image-radial-from-pos":[{"mask-radial-from":A()}],"mask-image-radial-to-pos":[{"mask-radial-to":A()}],"mask-image-radial-from-color":[{"mask-radial-from":h()}],"mask-image-radial-to-color":[{"mask-radial-to":h()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[y]}],"mask-image-conic-from-pos":[{"mask-conic-from":A()}],"mask-image-conic-to-pos":[{"mask-conic-to":A()}],"mask-image-conic-from-color":[{"mask-conic-from":h()}],"mask-image-conic-to-color":[{"mask-conic-to":h()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Fe()}],"mask-repeat":[{mask:Ge()}],"mask-size":[{mask:Je()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",p,d]}],filter:[{filter:["","none",p,d]}],blur:[{blur:We()}],brightness:[{brightness:[y,p,d]}],contrast:[{contrast:[y,p,d]}],"drop-shadow":[{"drop-shadow":["","none",k,ye,ve]}],"drop-shadow-color":[{"drop-shadow":h()}],grayscale:[{grayscale:["",y,p,d]}],"hue-rotate":[{"hue-rotate":[y,p,d]}],invert:[{invert:["",y,p,d]}],saturate:[{saturate:[y,p,d]}],sepia:[{sepia:["",y,p,d]}],"backdrop-filter":[{"backdrop-filter":["","none",p,d]}],"backdrop-blur":[{"backdrop-blur":We()}],"backdrop-brightness":[{"backdrop-brightness":[y,p,d]}],"backdrop-contrast":[{"backdrop-contrast":[y,p,d]}],"backdrop-grayscale":[{"backdrop-grayscale":["",y,p,d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y,p,d]}],"backdrop-invert":[{"backdrop-invert":["",y,p,d]}],"backdrop-opacity":[{"backdrop-opacity":[y,p,d]}],"backdrop-saturate":[{"backdrop-saturate":[y,p,d]}],"backdrop-sepia":[{"backdrop-sepia":["",y,p,d]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":v()}],"border-spacing-x":[{"border-spacing-x":v()}],"border-spacing-y":[{"border-spacing-y":v()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",p,d]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[y,"initial",p,d]}],ease:[{ease:["linear","initial",P,p,d]}],delay:[{delay:[y,p,d]}],animate:[{animate:["none",L,p,d]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,p,d]}],"perspective-origin":[{"perspective-origin":W()}],rotate:[{rotate:he()}],"rotate-x":[{"rotate-x":he()}],"rotate-y":[{"rotate-y":he()}],"rotate-z":[{"rotate-z":he()}],scale:[{scale:ge()}],"scale-x":[{"scale-x":ge()}],"scale-y":[{"scale-y":ge()}],"scale-z":[{"scale-z":ge()}],"scale-3d":["scale-3d"],skew:[{skew:Oe()}],"skew-x":[{"skew-x":Oe()}],"skew-y":[{"skew-y":Oe()}],transform:[{transform:[p,d,"","none","gpu","cpu"]}],"transform-origin":[{origin:W()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:be()}],"translate-x":[{"translate-x":be()}],"translate-y":[{"translate-y":be()}],"translate-z":[{"translate-z":be()}],"translate-none":["translate-none"],accent:[{accent:h()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:h()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",p,d]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":v()}],"scroll-mx":[{"scroll-mx":v()}],"scroll-my":[{"scroll-my":v()}],"scroll-ms":[{"scroll-ms":v()}],"scroll-me":[{"scroll-me":v()}],"scroll-mt":[{"scroll-mt":v()}],"scroll-mr":[{"scroll-mr":v()}],"scroll-mb":[{"scroll-mb":v()}],"scroll-ml":[{"scroll-ml":v()}],"scroll-p":[{"scroll-p":v()}],"scroll-px":[{"scroll-px":v()}],"scroll-py":[{"scroll-py":v()}],"scroll-ps":[{"scroll-ps":v()}],"scroll-pe":[{"scroll-pe":v()}],"scroll-pt":[{"scroll-pt":v()}],"scroll-pr":[{"scroll-pr":v()}],"scroll-pb":[{"scroll-pb":v()}],"scroll-pl":[{"scroll-pl":v()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",p,d]}],fill:[{fill:["none",...h()]}],"stroke-w":[{stroke:[y,ne,J,Pe]}],stroke:[{stroke:["none",...h()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Pn=ln(An);function Is(...e){return Pn(Dr(e))}var Ht="vercel.ai.error",Cn=Symbol.for(Ht),tt,rt,E=class Wt extends(rt=Error,tt=Cn,rt){constructor({name:t,message:r,cause:n}){super(r),this[tt]=!0,this.name=t,this.cause=n}static isInstance(t){return Wt.hasMarker(t,Ht)}static hasMarker(t,r){const n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}},Yt="AI_APICallError",Xt=`vercel.ai.error.${Yt}`,Rn=Symbol.for(Xt),nt,ot,T=class extends(ot=E,nt=Rn,ot){constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:o,responseBody:s,cause:a,isRetryable:i=n!=null&&(n===408||n===409||n===429||n>=500),data:l}){super({name:Yt,message:e,cause:a}),this[nt]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=o,this.responseBody=s,this.isRetryable=i,this.data=l}static isInstance(e){return E.hasMarker(e,Xt)}},Qt="AI_EmptyResponseBodyError",Kt=`vercel.ai.error.${Qt}`,$n=Symbol.for(Kt),st,at,Tn=class extends(at=E,st=$n,at){constructor({message:e="Empty response body"}={}){super({name:Qt,message:e}),this[st]=!0}static isInstance(e){return E.hasMarker(e,Kt)}};function er(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var tr="AI_InvalidArgumentError",rr=`vercel.ai.error.${tr}`,Nn=Symbol.for(rr),it,lt,nr=class extends(lt=E,it=Nn,lt){constructor({message:e,cause:t,argument:r}){super({name:tr,message:e,cause:t}),this[it]=!0,this.argument=r}static isInstance(e){return E.hasMarker(e,rr)}},or="AI_InvalidPromptError",sr=`vercel.ai.error.${or}`,Zn=Symbol.for(sr),ct,ut,Mn=class extends(ut=E,ct=Zn,ut){constructor({prompt:e,message:t,cause:r}){super({name:or,message:`Invalid prompt: ${t}`,cause:r}),this[ct]=!0,this.prompt=e}static isInstance(e){return E.hasMarker(e,sr)}},ar="AI_InvalidResponseDataError",ir=`vercel.ai.error.${ar}`,zn=Symbol.for(ir),dt,pt,jn=class extends(pt=E,dt=zn,pt){constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:ar,message:t}),this[dt]=!0,this.data=e}static isInstance(e){return E.hasMarker(e,ir)}},lr="AI_JSONParseError",cr=`vercel.ai.error.${lr}`,Ln=Symbol.for(cr),mt,ft,ke=class extends(ft=E,mt=Ln,ft){constructor({text:e,cause:t}){super({name:lr,message:`JSON parsing failed: Text: ${e}.
Error message: ${er(t)}`,cause:t}),this[mt]=!0,this.text=e}static isInstance(e){return E.hasMarker(e,cr)}},ur="AI_NoSuchModelError",dr=`vercel.ai.error.${ur}`,Dn=Symbol.for(dr),ht,gt,qn=class extends(gt=E,ht=Dn,gt){constructor({errorName:e=ur,modelId:t,modelType:r,message:n=`No such ${r}: ${t}`}){super({name:e,message:n}),this[ht]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return E.hasMarker(e,dr)}},pr="AI_TooManyEmbeddingValuesForCallError",mr=`vercel.ai.error.${pr}`,Vn=Symbol.for(mr),bt,vt,Un=class extends(vt=E,bt=Vn,vt){constructor(e){super({name:pr,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[bt]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return E.hasMarker(e,mr)}},fr="AI_TypeValidationError",hr=`vercel.ai.error.${fr}`,Bn=Symbol.for(hr),yt,wt,ae=class Ne extends(wt=E,yt=Bn,wt){constructor({value:t,cause:r}){super({name:fr,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${er(r)}`,cause:r}),this[yt]=!0,this.value=t}static isInstance(t){return E.hasMarker(t,hr)}static wrap({value:t,cause:r}){return Ne.isInstance(r)&&r.value===t?r:new Ne({value:t,cause:r})}},gr="AI_UnsupportedFunctionalityError",br=`vercel.ai.error.${gr}`,Fn=Symbol.for(br),kt,xt,ie=class extends(xt=E,kt=Fn,xt){constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:gr,message:t}),this[kt]=!0,this.functionality=e}static isInstance(e){return E.hasMarker(e,br)}},le;(function(e){e.assertEqual=o=>{};function t(o){}e.assertIs=t;function r(o){throw new Error}e.assertNever=r,e.arrayToEnum=o=>{const s={};for(const a of o)s[a]=a;return s},e.getValidEnumValues=o=>{const s=e.objectKeys(o).filter(i=>typeof o[o[i]]!="number"),a={};for(const i of s)a[i]=o[i];return e.objectValues(a)},e.objectValues=o=>e.objectKeys(o).map(function(s){return o[s]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const s=[];for(const a in o)Object.prototype.hasOwnProperty.call(o,a)&&s.push(a);return s},e.find=(o,s)=>{for(const a of o)if(s(a))return a},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function n(o,s=" | "){return o.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(o,s)=>typeof s=="bigint"?s.toString():s})(le||(le={}));var _t;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(_t||(_t={}));le.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);le.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class xe extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},o=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(o);else if(a.code==="invalid_return_type")o(a.returnTypeError);else if(a.code==="invalid_arguments")o(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let i=n,l=0;for(;l<a.path.length;){const c=a.path[l];l===a.path.length-1?(i[c]=i[c]||{_errors:[]},i[c]._errors.push(r(a))):i[c]=i[c]||{_errors:[]},i=i[c],l++}}};return o(this),n}static assert(t){if(!(t instanceof xe))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,le.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r=Object.create(null),n=[];for(const o of this.issues)if(o.path.length>0){const s=o.path[0];r[s]=r[s]||[],r[s].push(t(o))}else n.push(t(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}xe.create=e=>new xe(e);var St;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(St||(St={}));var g;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(g||(g={}));class Et extends Error{constructor(t,r){super(t),this.name="ParseError",this.type=r.type,this.field=r.field,this.value=r.value,this.line=r.line}}function Ce(e){}function Gn(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=Ce,onError:r=Ce,onRetry:n=Ce,onComment:o}=e;let s="",a=!0,i,l="",c="";function u(m){const w=a?m.replace(/^\xEF\xBB\xBF/,""):m,[P,L]=Jn(`${s}${w}`);for(const M of P)f(M);s=L,a=!1}function f(m){if(m===""){k();return}if(m.startsWith(":")){o&&o(m.slice(m.startsWith(": ")?2:1));return}const w=m.indexOf(":");if(w!==-1){const P=m.slice(0,w),L=m[w+1]===" "?2:1,M=m.slice(w+L);b(P,M,m);return}b(m,"",m)}function b(m,w,P){switch(m){case"event":c=w;break;case"data":l=`${l}${w}
`;break;case"id":i=w.includes("\0")?void 0:w;break;case"retry":/^\d+$/.test(w)?n(parseInt(w,10)):r(new Et(`Invalid \`retry\` value: "${w}"`,{type:"invalid-retry",value:w,line:P}));break;default:r(new Et(`Unknown field "${m.length>20?`${m.slice(0,20)}â€¦`:m}"`,{type:"unknown-field",field:m,value:w,line:P}));break}}function k(){l.length>0&&t({id:i,event:c||void 0,data:l.endsWith(`
`)?l.slice(0,-1):l}),i=void 0,l="",c=""}function S(m={}){s&&m.consume&&f(s),a=!0,i=void 0,l="",c="",s=""}return{feed:u,reset:S}}function Jn(e){const t=[];let r="",n=0;for(;n<e.length;){const o=e.indexOf("\r",n),s=e.indexOf(`
`,n);let a=-1;if(o!==-1&&s!==-1?a=Math.min(o,s):o!==-1?o===e.length-1?a=-1:a=o:s!==-1&&(a=s),a===-1){r=e.slice(n);break}else{const i=e.slice(n,a);t.push(i),n=a+1,e[n-1]==="\r"&&e[n]===`
`&&n++}}return[t,r]}class Hn extends TransformStream{constructor({onError:t,onRetry:r,onComment:n}={}){let o;super({start(s){o=Gn({onEvent:a=>{s.enqueue(a)},onError(a){t==="terminate"?s.error(a):typeof t=="function"&&t(a)},onRetry:r,onComment:n})},transform(s){o.feed(s)}})}}var Wn={};function ce(...e){return e.reduce((t,r)=>({...t,...r??{}}),{})}async function Os(e,t){if(e==null)return Promise.resolve();const r=t?.abortSignal;return new Promise((n,o)=>{if(r?.aborted){o(It());return}const s=setTimeout(()=>{a(),n()},e),a=()=>{clearTimeout(s),r?.removeEventListener("abort",i)},i=()=>{a(),o(It())};r?.addEventListener("abort",i)})}function It(){return new DOMException("Delay was aborted","AbortError")}var As=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get promise(){return this._promise?this._promise:(this._promise=new Promise((e,t)=>{this.status.type==="resolved"?e(this.status.value):this.status.type==="rejected"&&t(this.status.error),this._resolve=e,this._reject=t}),this._promise)}resolve(e){var t;this.status={type:"resolved",value:e},this._promise&&((t=this._resolve)==null||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this._promise&&((t=this._reject)==null||t.call(this,e))}isResolved(){return this.status.type==="resolved"}isRejected(){return this.status.type==="rejected"}isPending(){return this.status.type==="pending"}};function te(e){return Object.fromEntries([...e.headers])}var{btoa:Yn,atob:Xn}=globalThis;function Ps(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=Xn(t);return Uint8Array.from(r,n=>n.codePointAt(0))}function Cs(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return Yn(t)}var vr="AI_DownloadError",yr=`vercel.ai.error.${vr}`,Qn=Symbol.for(yr),Ot,At,Rs=class extends(At=E,Ot=Qn,At){constructor({url:e,statusCode:t,statusText:r,cause:n,message:o=n==null?`Failed to download ${e}: ${t} ${r}`:`Failed to download ${e}: ${n}`}){super({name:vr,message:o,cause:n}),this[Ot]=!0,this.url=e,this.statusCode=t,this.statusText=r}static isInstance(e){return E.hasMarker(e,yr)}},Kn=({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{const o=()=>{const s=r.length,a=new Array(t);for(let i=0;i<t;i++)a[i]=r[Math.random()*s|0];return a.join("")};if(e==null)return o;if(r.includes(n))throw new nr({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return()=>`${e}${n}${o()}`},oe=Kn();function $s(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}function ue(e){return(e instanceof Error||e instanceof DOMException)&&(e.name==="AbortError"||e.name==="ResponseAborted"||e.name==="TimeoutError")}var eo=["fetch failed","failed to fetch"];function wr({error:e,url:t,requestBodyValues:r}){if(ue(e))return e;if(e instanceof TypeError&&eo.includes(e.message.toLowerCase())){const n=e.cause;if(n!=null)return new T({message:`Cannot connect to API: ${n.message}`,cause:n,url:t,requestBodyValues:r,isRetryable:!0})}return e}function kr(e=globalThis){var t,r,n;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(n=(r=e.process)==null?void 0:r.versions)!=null&&n.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function to(e){if(e==null)return{};const t={};if(e instanceof Headers)e.forEach((r,n)=>{t[n.toLowerCase()]=r});else{Array.isArray(e)||(e=Object.entries(e));for(const[r,n]of e)n!=null&&(t[r.toLowerCase()]=n)}return t}function xr(e,...t){const r=new Headers(to(e)),n=r.get("user-agent")||"";return r.set("user-agent",[n,...t].filter(Boolean).join(" ")),Object.fromEntries(r.entries())}var _r="4.0.4",ro=()=>globalThis.fetch,Ts=async({url:e,headers:t={},successfulResponseHandler:r,failedResponseHandler:n,abortSignal:o,fetch:s=ro()})=>{try{const a=await s(e,{method:"GET",headers:xr(t,`ai-sdk/provider-utils/${_r}`,kr()),signal:o}),i=te(a);if(!a.ok){let l;try{l=await n({response:a,url:e,requestBodyValues:{}})}catch(c){throw ue(c)||T.isInstance(c)?c:new T({message:"Failed to process error response",cause:c,statusCode:a.status,url:e,responseHeaders:i,requestBodyValues:{}})}throw l.value}try{return await r({response:a,url:e,requestBodyValues:{}})}catch(l){throw l instanceof Error&&(ue(l)||T.isInstance(l))?l:new T({message:"Failed to process successful response",cause:l,statusCode:a.status,url:e,responseHeaders:i,requestBodyValues:{}})}}catch(a){throw wr({error:a,url:e,requestBodyValues:{}})}};function Ns(e){return e!=null}function Zs({mediaType:e,url:t,supportedUrls:r}){return t=t.toLowerCase(),e=e.toLowerCase(),Object.entries(r).map(([n,o])=>{const s=n.toLowerCase();return s==="*"||s==="*/*"?{mediaTypePrefix:"",regexes:o}:{mediaTypePrefix:s.replace(/\*/,""),regexes:o}}).filter(({mediaTypePrefix:n})=>e.startsWith(n)).flatMap(({regexes:n})=>n).some(n=>n.test(t))}function Ms({settingValue:e,environmentVariableName:t}){if(typeof e=="string")return e;if(!(e!=null||typeof process>"u")&&(e=Wn[t],!(e==null||typeof e!="string")))return e}var no=/"__proto__"\s*:/,oo=/"constructor"\s*:/;function Pt(e){const t=JSON.parse(e);return t===null||typeof t!="object"||no.test(e)===!1&&oo.test(e)===!1?t:so(t)}function so(e){let t=[e];for(;t.length;){const r=t;t=[];for(const n of r){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const o in n){const s=n[o];s&&typeof s=="object"&&t.push(s)}}}return e}function Sr(e){const{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return Pt(e)}try{return Pt(e)}finally{Error.stackTraceLimit=t}}function Er(e){if(e.type==="object"||Array.isArray(e.type)&&e.type.includes("object")){e.additionalProperties=!1;const{properties:r}=e;if(r!=null)for(const n of Object.keys(r))r[n]=H(r[n])}e.items!=null&&(e.items=Array.isArray(e.items)?e.items.map(H):H(e.items)),e.anyOf!=null&&(e.anyOf=e.anyOf.map(H)),e.allOf!=null&&(e.allOf=e.allOf.map(H)),e.oneOf!=null&&(e.oneOf=e.oneOf.map(H));const{definitions:t}=e;if(t!=null)for(const r of Object.keys(t))t[r]=H(t[r]);return e}function H(e){return typeof e=="boolean"?e:Er(e)}var ao=Symbol("Let zodToJsonSchema decide on which parser to use"),Ct={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},io=e=>typeof e=="string"?{...Ct,name:e}:{...Ct,...e};function N(){return{}}function lo(e,t){var r,n,o;const s={type:"array"};return(r=e.type)!=null&&r._def&&((o=(n=e.type)==null?void 0:n._def)==null?void 0:o.typeName)!==g.ZodAny&&(s.items=x(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(s.minItems=e.minLength.value),e.maxLength&&(s.maxItems=e.maxLength.value),e.exactLength&&(s.minItems=e.exactLength.value,s.maxItems=e.exactLength.value),s}function co(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const r of e.checks)switch(r.kind){case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}function uo(){return{type:"boolean"}}function Ir(e,t){return x(e.type._def,t)}var po=(e,t)=>x(e.innerType._def,t);function Or(e,t,r){const n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((o,s)=>Or(e,t,o))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return mo(e)}}var mo=e=>{const t={type:"integer",format:"unix-time"};for(const r of e.checks)switch(r.kind){case"min":t.minimum=r.value;break;case"max":t.maximum=r.value;break}return t};function fo(e,t){return{...x(e.innerType._def,t),default:e.defaultValue()}}function ho(e,t){return t.effectStrategy==="input"?x(e.schema._def,t):N()}function go(e){return{type:"string",enum:Array.from(e.values)}}var bo=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function vo(e,t){const r=[x(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),x(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(o=>!!o),n=[];return r.forEach(o=>{if(bo(o))n.push(...o.allOf);else{let s=o;if("additionalProperties"in o&&o.additionalProperties===!1){const{additionalProperties:a,...i}=o;s=i}n.push(s)}}),n.length?{allOf:n}:void 0}function yo(e){const t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}var Re=void 0,z={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Re===void 0&&(Re=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Re),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Ar(e,t){const r={type:"string"};if(e.checks)for(const n of e.checks)switch(n.kind){case"min":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value;break;case"max":r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"email":switch(t.emailStrategy){case"format:email":j(r,"email",n.message,t);break;case"format:idn-email":j(r,"idn-email",n.message,t);break;case"pattern:zod":R(r,z.email,n.message,t);break}break;case"url":j(r,"uri",n.message,t);break;case"uuid":j(r,"uuid",n.message,t);break;case"regex":R(r,n.regex,n.message,t);break;case"cuid":R(r,z.cuid,n.message,t);break;case"cuid2":R(r,z.cuid2,n.message,t);break;case"startsWith":R(r,RegExp(`^${$e(n.value,t)}`),n.message,t);break;case"endsWith":R(r,RegExp(`${$e(n.value,t)}$`),n.message,t);break;case"datetime":j(r,"date-time",n.message,t);break;case"date":j(r,"date",n.message,t);break;case"time":j(r,"time",n.message,t);break;case"duration":j(r,"duration",n.message,t);break;case"length":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"includes":{R(r,RegExp($e(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&j(r,"ipv4",n.message,t),n.version!=="v4"&&j(r,"ipv6",n.message,t);break}case"base64url":R(r,z.base64url,n.message,t);break;case"jwt":R(r,z.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&R(r,z.ipv4Cidr,n.message,t),n.version!=="v4"&&R(r,z.ipv6Cidr,n.message,t);break}case"emoji":R(r,z.emoji(),n.message,t);break;case"ulid":{R(r,z.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{j(r,"binary",n.message,t);break}case"contentEncoding:base64":{r.contentEncoding="base64";break}case"pattern:zod":{R(r,z.base64,n.message,t);break}}break}case"nanoid":R(r,z.nanoid,n.message,t)}return r}function $e(e,t){return t.patternStrategy==="escape"?ko(e):e}var wo=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function ko(e){let t="";for(let r=0;r<e.length;r++)wo.has(e[r])||(t+="\\"),t+=e[r];return t}function j(e,t,r,n){var o;e.format||(o=e.anyOf)!=null&&o.some(s=>s.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):e.format=t}function R(e,t,r,n){var o;e.pattern||(o=e.allOf)!=null&&o.some(s=>s.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:Rt(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):e.pattern=Rt(t,n)}function Rt(e,t){var r;if(!t.applyRegexFlags||!e.flags)return e.source;const n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},o=n.i?e.source.toLowerCase():e.source;let s="",a=!1,i=!1,l=!1;for(let c=0;c<o.length;c++){if(a){s+=o[c],a=!1;continue}if(n.i){if(i){if(o[c].match(/[a-z]/)){l?(s+=o[c],s+=`${o[c-2]}-${o[c]}`.toUpperCase(),l=!1):o[c+1]==="-"&&((r=o[c+2])!=null&&r.match(/[a-z]/))?(s+=o[c],l=!0):s+=`${o[c]}${o[c].toUpperCase()}`;continue}}else if(o[c].match(/[a-z]/)){s+=`[${o[c]}${o[c].toUpperCase()}]`;continue}}if(n.m){if(o[c]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(o[c]==="$"){s+=`($|(?=[\r
]))`;continue}}if(n.s&&o[c]==="."){s+=i?`${o[c]}\r
`:`[${o[c]}\r
]`;continue}s+=o[c],o[c]==="\\"?a=!0:i&&o[c]==="]"?i=!1:!i&&o[c]==="["&&(i=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function Pr(e,t){var r,n,o,s,a,i;const l={type:"object",additionalProperties:(r=x(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?r:t.allowedAdditionalProperties};if(((n=e.keyType)==null?void 0:n._def.typeName)===g.ZodString&&((o=e.keyType._def.checks)!=null&&o.length)){const{type:c,...u}=Ar(e.keyType._def,t);return{...l,propertyNames:u}}else{if(((s=e.keyType)==null?void 0:s._def.typeName)===g.ZodEnum)return{...l,propertyNames:{enum:e.keyType._def.values}};if(((a=e.keyType)==null?void 0:a._def.typeName)===g.ZodBranded&&e.keyType._def.type._def.typeName===g.ZodString&&((i=e.keyType._def.type._def.checks)!=null&&i.length)){const{type:c,...u}=Ir(e.keyType._def,t);return{...l,propertyNames:u}}}return l}function xo(e,t){if(t.mapStrategy==="record")return Pr(e,t);const r=x(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||N(),n=x(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||N();return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}function _o(e){const t=e.values,n=Object.keys(e.values).filter(s=>typeof t[t[s]]!="number").map(s=>t[s]),o=Array.from(new Set(n.map(s=>typeof s)));return{type:o.length===1?o[0]==="string"?"string":"number":["string","number"],enum:n}}function So(){return{not:N()}}function Eo(){return{type:"null"}}var Ze={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Io(e,t){const r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in Ze&&(!n._def.checks||!n._def.checks.length))){const n=r.reduce((o,s)=>{const a=Ze[s._def.typeName];return a&&!o.includes(a)?[...o,a]:o},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){const n=r.reduce((o,s)=>{const a=typeof s._def.value;switch(a){case"string":case"number":case"boolean":return[...o,a];case"bigint":return[...o,"integer"];case"object":if(s._def.value===null)return[...o,"null"];default:return o}},[]);if(n.length===r.length){const o=n.filter((s,a,i)=>i.indexOf(s)===a);return{type:o.length>1?o:o[0],enum:r.reduce((s,a)=>s.includes(a._def.value)?s:[...s,a._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,o)=>[...n,...o._def.values.filter(s=>!n.includes(s))],[])};return Oo(e,t)}var Oo=(e,t)=>{const r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,o)=>x(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${o}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0};function Ao(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[Ze[e.innerType._def.typeName],"null"]};const r=x(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function Po(e){const t={type:"number"};if(!e.checks)return t;for(const r of e.checks)switch(r.kind){case"int":t.type="integer";break;case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}function Co(e,t){const r={type:"object",properties:{}},n=[],o=e.shape();for(const a in o){let i=o[a];if(i===void 0||i._def===void 0)continue;const l=$o(i),c=x(i._def,{...t,currentPath:[...t.currentPath,"properties",a],propertyPath:[...t.currentPath,"properties",a]});c!==void 0&&(r.properties[a]=c,l||n.push(a))}n.length&&(r.required=n);const s=Ro(e,t);return s!==void 0&&(r.additionalProperties=s),r}function Ro(e,t){if(e.catchall._def.typeName!=="ZodNever")return x(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function $o(e){try{return e.isOptional()}catch{return!0}}var To=(e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return x(e.innerType._def,t);const n=x(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:N()},n]}:N()},No=(e,t)=>{if(t.pipeStrategy==="input")return x(e.in._def,t);if(t.pipeStrategy==="output")return x(e.out._def,t);const r=x(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=x(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(o=>o!==void 0)}};function Zo(e,t){return x(e.type._def,t)}function Mo(e,t){const n={type:"array",uniqueItems:!0,items:x(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}function zo(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>x(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:x(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>x(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}function jo(){return{not:N()}}function Lo(){return N()}var Do=(e,t)=>x(e.innerType._def,t),qo=(e,t,r)=>{switch(t){case g.ZodString:return Ar(e,r);case g.ZodNumber:return Po(e);case g.ZodObject:return Co(e,r);case g.ZodBigInt:return co(e);case g.ZodBoolean:return uo();case g.ZodDate:return Or(e,r);case g.ZodUndefined:return jo();case g.ZodNull:return Eo();case g.ZodArray:return lo(e,r);case g.ZodUnion:case g.ZodDiscriminatedUnion:return Io(e,r);case g.ZodIntersection:return vo(e,r);case g.ZodTuple:return zo(e,r);case g.ZodRecord:return Pr(e,r);case g.ZodLiteral:return yo(e);case g.ZodEnum:return go(e);case g.ZodNativeEnum:return _o(e);case g.ZodNullable:return Ao(e,r);case g.ZodOptional:return To(e,r);case g.ZodMap:return xo(e,r);case g.ZodSet:return Mo(e,r);case g.ZodLazy:return()=>e.getter()._def;case g.ZodPromise:return Zo(e,r);case g.ZodNaN:case g.ZodNever:return So();case g.ZodEffects:return ho(e,r);case g.ZodAny:return N();case g.ZodUnknown:return Lo();case g.ZodDefault:return fo(e,r);case g.ZodBranded:return Ir(e,r);case g.ZodReadonly:return Do(e,r);case g.ZodCatch:return po(e,r);case g.ZodPipeline:return No(e,r);case g.ZodFunction:case g.ZodVoid:case g.ZodSymbol:return;default:return(n=>{})()}},Vo=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")};function x(e,t,r=!1){var n;const o=t.seen.get(e);if(t.override){const l=(n=t.override)==null?void 0:n.call(t,e,t,o,r);if(l!==ao)return l}if(o&&!r){const l=Uo(o,t);if(l!==void 0)return l}const s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);const a=qo(e,e.typeName,t),i=typeof a=="function"?x(a(),t):a;if(i&&Bo(e,t,i),t.postProcess){const l=t.postProcess(i,e,t);return s.jsonSchema=i,l}return s.jsonSchema=i,i}var Uo=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:Vo(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),N()):t.$refStrategy==="seen"?N():void 0}},Bo=(e,t,r)=>(e.description&&(r.description=e.description),r),Fo=e=>{const t=io(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,o])=>[o._def,{def:o._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}},Go=(e,t)=>{var r;const n=Fo(t);let o=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((c,[u,f])=>{var b;return{...c,[u]:(b=x(f._def,{...n,currentPath:[...n.basePath,n.definitionPath,u]},!0))!=null?b:N()}},{}):void 0;const s=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,a=(r=x(e._def,s===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,s]},!1))!=null?r:N(),i=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;i!==void 0&&(a.title=i);const l=s===void 0?o?{...a,[n.definitionPath]:o}:a:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,s].join("/"),[n.definitionPath]:{...o,[s]:a}};return l.$schema="http://json-schema.org/draft-07/schema#",l},Me=Symbol.for("vercel.ai.schema");function zs(e){let t;return()=>(t==null&&(t=e()),t)}function Se(e,{validate:t}={}){return{[Me]:!0,_type:void 0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}function Jo(e){return typeof e=="object"&&e!==null&&Me in e&&e[Me]===!0&&"jsonSchema"in e&&"validate"in e}function Ho(e){return e==null?Se({properties:{},additionalProperties:!1}):Jo(e)?e:"~standard"in e?e["~standard"].vendor==="zod"?Ko(e):Wo(e):e()}function Wo(e){return Se(()=>e["~standard"].jsonSchema.input({target:"draft-07"}),{validate:async t=>{const r=await e["~standard"].validate(t);return"value"in r?{success:!0,value:r.value}:{success:!1,error:new ae({value:t,cause:r.issues})}}})}function Yo(e,t){var r;const n=(r=void 0)!=null?r:!1;return Se(()=>Go(e,{$refStrategy:n?"root":"none"}),{validate:async o=>{const s=await e.safeParseAsync(o);return s.success?{success:!0,value:s.data}:{success:!1,error:s.error}}})}function Xo(e,t){var r;const n=(r=void 0)!=null?r:!1;return Se(()=>Er(Zr(e,{target:"draft-7",io:"input",reused:n?"ref":"inline"})),{validate:async o=>{const s=await Nr(e,o);return s.success?{success:!0,value:s.data}:{success:!1,error:s.error}}})}function Qo(e){return"_zod"in e}function Ko(e,t){return Qo(e)?Xo(e):Yo(e)}async function es({value:e,schema:t}){const r=await De({value:e,schema:t});if(!r.success)throw ae.wrap({value:e,cause:r.error});return r.value}async function De({value:e,schema:t}){const r=Ho(t);try{if(r.validate==null)return{success:!0,value:e,rawValue:e};const n=await r.validate(e);return n.success?{success:!0,value:n.value,rawValue:e}:{success:!1,error:ae.wrap({value:e,cause:n.error}),rawValue:e}}catch(n){return{success:!1,error:ae.wrap({value:e,cause:n}),rawValue:e}}}async function ts({text:e,schema:t}){try{const r=Sr(e);return t==null?r:es({value:r,schema:t})}catch(r){throw ke.isInstance(r)||ae.isInstance(r)?r:new ke({text:e,cause:r})}}async function Cr({text:e,schema:t}){try{const r=Sr(e);return t==null?{success:!0,value:r,rawValue:r}:await De({value:r,schema:t})}catch(r){return{success:!1,error:ke.isInstance(r)?r:new ke({text:e,cause:r}),rawValue:void 0}}}function rs({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new Hn).pipeThrough(new TransformStream({async transform({data:r},n){r!=="[DONE]"&&n.enqueue(await Cr({text:r,schema:t}))}}))}async function Rr({provider:e,providerOptions:t,schema:r}){if(t?.[e]==null)return;const n=await De({value:t[e],schema:r});if(!n.success)throw new nr({argument:"providerOptions",message:`invalid ${e} provider options`,cause:n.error});return n.value}var ns=()=>globalThis.fetch,de=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:o,abortSignal:s,fetch:a})=>os({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:o,abortSignal:s,fetch:a}),os=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:o,abortSignal:s,fetch:a=ns()})=>{try{const i=await a(e,{method:"POST",headers:xr(t,`ai-sdk/provider-utils/${_r}`,kr()),body:r.content,signal:s}),l=te(i);if(!i.ok){let c;try{c=await o({response:i,url:e,requestBodyValues:r.values})}catch(u){throw ue(u)||T.isInstance(u)?u:new T({message:"Failed to process error response",cause:u,statusCode:i.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw c.value}try{return await n({response:i,url:e,requestBodyValues:r.values})}catch(c){throw c instanceof Error&&(ue(c)||T.isInstance(c))?c:new T({message:"Failed to process successful response",cause:c,statusCode:i.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(i){throw wr({error:i,url:e,requestBodyValues:r.values})}};function js({id:e,inputSchema:t,outputSchema:r,supportsDeferredResults:n}){return({execute:o,needsApproval:s,toModelOutput:a,onInputStart:i,onInputDelta:l,onInputAvailable:c,...u})=>({type:"provider",id:e,args:u,inputSchema:t,outputSchema:r,execute:o,needsApproval:s,toModelOutput:a,onInputStart:i,onInputDelta:l,onInputAvailable:c,supportsDeferredResults:n})}async function Ls(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var ss=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:o,requestBodyValues:s})=>{const a=await n.text(),i=te(n);if(a.trim()==="")return{responseHeaders:i,value:new T({message:n.statusText,url:o,requestBodyValues:s,statusCode:n.status,responseHeaders:i,responseBody:a,isRetryable:r?.(n)})};try{const l=await ts({text:a,schema:e});return{responseHeaders:i,value:new T({message:t(l),url:o,requestBodyValues:s,statusCode:n.status,responseHeaders:i,responseBody:a,data:l,isRetryable:r?.(n,l)})}}catch{return{responseHeaders:i,value:new T({message:n.statusText,url:o,requestBodyValues:s,statusCode:n.status,responseHeaders:i,responseBody:a,isRetryable:r?.(n)})}}},Ds=e=>async({response:t})=>{const r=te(t);if(t.body==null)throw new Tn({});return{responseHeaders:r,value:rs({stream:t.body,schema:e})}},qe=e=>async({response:t,url:r,requestBodyValues:n})=>{const o=await t.text(),s=await Cr({text:o,schema:e}),a=te(t);if(!s.success)throw new T({message:"Invalid JSON response",cause:s.error,statusCode:t.status,responseHeaders:a,responseBody:o,url:r,requestBodyValues:n});return{responseHeaders:a,value:s.value,rawValue:s.rawValue}};function as(e){return e?.replace(/\/$/,"")}function is(e){return e!=null&&typeof e[Symbol.asyncIterator]=="function"}async function*qs({execute:e,input:t,options:r}){const n=e(t,r);if(is(n)){let o;for await(const s of n)o=s,yield{type:"preliminary",output:s};yield{type:"final",output:o}}else yield{type:"final",output:await n}}function ls({prompt:e,user:t="user",assistant:r="assistant"}){let n="";e[0].role==="system"&&(n+=`${e[0].content}

`,e=e.slice(1));for(const{role:o,content:s}of e)switch(o){case"system":throw new Mn({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{const a=s.map(i=>{if(i.type==="text")return i.text}).filter(Boolean).join("");n+=`${t}:
${a}

`;break}case"assistant":{const a=s.map(i=>{switch(i.type){case"text":return i.text;case"tool-call":throw new ie({functionality:"tool-call messages"})}}).join("");n+=`${r}:
${a}

`;break}case"tool":throw new ie({functionality:"tool messages"});default:{const a=o;throw new Error(`Unsupported role: ${a}`)}}return n+=`${r}:
`,{prompt:n,stopSequences:[`
${t}:`]}}function _e(e){switch(e){case"stop":return{raw:e,unified:"stop"};case"length":return{raw:e,unified:"length"};case"content_filter":return{raw:e,unified:"content-filter"};case"function_call":case"tool_calls":return{raw:e,unified:"tool-calls"};default:return{raw:e,unified:"other"}}}function ze({model:e,created_at:t}){return{id:void 0,modelId:e??void 0,timestamp:t!=null?new Date(t):void 0}}function $r(e){return async({response:t})=>{const r=te(t);if(t.body==null)throw new Error("Response body is null");const n=t.body.getReader(),o=new TextDecoder;let s="";const a=new ReadableStream({async pull(i){for(;;){const{done:l,value:c}=await n.read();if(l){if(s.trim())try{const f=JSON.parse(s.trim()),b=e.parse(f);i.enqueue({success:!0,value:b,rawValue:b})}catch{}i.close();return}s+=o.decode(c,{stream:!0});const u=s.split(`
`);s=u.pop()||"";for(const f of u){const b=f.trim();if(b)try{const k=JSON.parse(b),S=e.parse(k);i.enqueue({success:!0,value:S,rawValue:S})}catch(k){console.warn("Failed to parse NDJSON line:",k)}}}},cancel(){n.cancel()}});return{responseHeaders:r,value:a}}}var cs=Z({error:Z({message:I(),type:I().nullish(),param:Nt().nullish(),code:zr([I(),_()]).nullish()})}),pe=ss({errorSchema:cs,errorToMessage:e=>e.error.message});Z({think:Q().optional(),user:I().optional(),suffix:I().optional(),echo:Q().optional()});var us=class{constructor(e,t,r){this.specificationVersion="v3",this.defaultObjectGenerationMode=void 0,this.supportsImageUrls=!1,this.supportedUrls={},this.modelId=e,this.settings=t,this.config=r,this.provider=r.provider}getArgs({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:o,frequencyPenalty:s,presencePenalty:a,stopSequences:i,responseFormat:l,tools:c,toolChoice:u,seed:f}){const b=[];o!=null&&b.push({type:"unsupported",feature:"topK"}),c?.length&&b.push({type:"unsupported",feature:"tools"}),u!=null&&b.push({type:"unsupported",feature:"toolChoice"}),l!=null&&l.type!=="text"&&b.push({type:"unsupported",feature:"responseFormat (JSON)"});const{prompt:k,stopSequences:S}=ls({prompt:e}),m=[...S??[],...i??[]];return{args:{model:this.modelId,user:this.settings.user,think:this.settings.think,max_tokens:t,temperature:r,top_p:n,frequency_penalty:s,presence_penalty:a,stop:m,prompt:k,suffix:this.settings.suffix,echo:this.settings.echo,stream:!1},warnings:b}}async doGenerate(e){var t,r;const{args:n,warnings:o}=this.getArgs(e),{responseHeaders:s,value:a,rawValue:i}=await de({url:this.config.url({path:"/generate",modelId:this.modelId}),headers:ce(this.config.headers(),e.headers),body:{...n,stream:!1},failedResponseHandler:pe,successfulResponseHandler:qe($t),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:l,...c}=n,u=a;return{content:[{type:"text",text:u.response}],usage:{inputTokens:{total:(t=u.prompt_eval_count)!=null?t:0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:(r=u.eval_count)!=null?r:0,text:void 0,reasoning:void 0}},finishReason:_e("stop"),request:{body:JSON.stringify(n)},response:{...ze(u),headers:s,body:i},warnings:o}}async doStream(e){const{args:t,warnings:r}=this.getArgs(e),n={...t,stream:!0},{responseHeaders:o,value:s}=await de({url:this.config.url({path:"/generate",modelId:this.modelId}),headers:ce(this.config.headers(),e.headers),body:n,failedResponseHandler:pe,successfulResponseHandler:$r($t),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:a,...i}=t;let l="other",c={inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0}},u=!0,f=!1;const b=oe();return{stream:s.pipeThrough(new TransformStream({transform(k,S){if(!k.success){S.enqueue({type:"error",error:k.rawValue});return}const m=k.value;if("error"in m){l="error",S.enqueue({type:"error",error:m.error});return}u&&(u=!1,S.enqueue({type:"response-metadata",...ze(m)})),m.done&&(l="stop"),m.response!=null&&(f||(S.enqueue({type:"text-start",id:b}),f=!0),S.enqueue({type:"text-delta",id:b,delta:m.response}))},flush(k){f&&k.enqueue({type:"text-end",id:b}),k.enqueue({type:"finish",finishReason:_e(l),usage:c})}})),request:{body:JSON.stringify(n)},response:{headers:o},warnings:r}}},$t=Z({model:I(),created_at:I(),response:I(),done:Q(),context:se(_()),eval_count:_().optional(),eval_duration:_().optional(),load_duration:_().optional(),total_duration:_().optional(),prompt_eval_count:_().optional(),prompt_eval_duration:_().optional()}),ds=Z({dimensions:_().optional(),truncate:Q().optional(),keepAlive:I().optional()}),ps=class{constructor(e,t,r){this.specificationVersion="v3";var n,o;this.modelId=e,this.settings=t,this.config=r,this.provider=r.provider,this.maxEmbeddingsPerCall=(n=t.maxEmbeddingsPerCall)!=null?n:2048,this.supportsParallelCalls=(o=t.supportsParallelCalls)!=null?o:!0}getArgs({values:e}){return{model:this.modelId,input:e,dimensions:this.settings.dimensions,truncate:this.settings.truncate,keep_alive:this.settings.keepAlive}}async doEmbed({values:e,headers:t,abortSignal:r,providerOptions:n}){var o,s,a;if(this.maxEmbeddingsPerCall&&e.length>this.maxEmbeddingsPerCall)throw new Un({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const i=await Rr({provider:"ollama",providerOptions:n,schema:ds}),l=(o=i?.dimensions)!=null?o:this.settings.dimensions,c=(s=i?.truncate)!=null?s:this.settings.truncate,u=(a=i?.keepAlive)!=null?a:this.settings.keepAlive,f={model:this.modelId,input:e};l!==void 0&&(f.dimensions=l),c!==void 0&&(f.truncate=c),u!==void 0&&(f.keep_alive=u);const{responseHeaders:b,value:k,rawValue:S}=await de({url:this.config.url({path:"/embed",modelId:this.modelId}),headers:ce(this.config.headers(),t),body:{...f},failedResponseHandler:pe,successfulResponseHandler:qe(ms),abortSignal:r,fetch:this.config.fetch}),m=k;return{embeddings:m.embeddings.map(w=>w),usage:{tokens:m.prompt_eval_count},response:{headers:b,body:S},warnings:[]}}},ms=Z({model:I(),embeddings:se(se(_())),total_duration:_(),load_duration:_(),prompt_eval_count:_()}),je=Z({model:I(),created_at:I(),done:Q(),message:Z({content:I(),role:I(),thinking:I().optional(),tool_calls:se(Z({function:Z({name:I(),arguments:Mr(I(),Nt())}),id:I().optional()})).optional().nullable()}),done_reason:I().optional(),eval_count:_().optional(),eval_duration:_().optional(),load_duration:_().optional(),prompt_eval_count:_().optional(),prompt_eval_duration:_().optional(),total_duration:_().optional()}),fs=class{constructor(e){this.config=e}processGenerateResponse(e){const t=this.extractContent(e),r=_e(e.done_reason),n=this.extractUsage(e);return{content:t,finishReason:r,usage:n,providerMetadata:{ollama:{}}}}extractContent(e){var t,r,n,o,s;const a=[],i=e.message.content;i!=null&&i.length>0&&a.push({type:"text",text:i});const l=e.message.thinking;l!=null&&l.length>0&&a.push({type:"reasoning",text:l});for(const c of(t=e.message.tool_calls)!=null?t:[])a.push({type:"tool-call",toolCallId:(s=c.id)!=null?s:(o=(n=(r=this.config).generateId)==null?void 0:n.call(r))!=null?o:oe(),toolName:c.function.name,input:JSON.stringify(c.function.arguments)});return a}extractUsage(e){var t,r;return{inputTokens:{total:(t=e.prompt_eval_count)!=null?t:0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:(r=e.eval_count)!=null?r:0,text:void 0,reasoning:void 0}}}};function hs(e){var t;if(e.success)return[e.value];const r=[],n=(t=e.error)==null?void 0:t.text;if(typeof n!="string"||n.length===0)return r;const o=n.split(/\r?\n/);for(const s of o){const a=s.trim();if(a!=="")try{const i=JSON.parse(a),l=je.safeParse(i);l.success&&r.push(l.data)}catch{}}return r}function gs({prompt:e,systemMessageMode:t="system"}){const r=[];for(const{role:n,content:o}of e)switch(n){case"system":{switch(t){case"system":{r.push({role:"system",content:o});break}case"developer":{r.push({role:"developer",content:o});break}case"remove":break;default:{const s=t;throw new Error(`Unsupported system message mode: ${s}`)}}break}case"user":{if(o.length===1&&o[0].type==="text"){r.push({role:"user",content:o[0].text});break}const s=o.filter(i=>i.type==="text").map(i=>i.text).join(""),a=o.filter(i=>i.type==="file"&&i.mediaType.startsWith("image/")).map(i=>i.data);r.push({role:"user",content:s.length>0?s:[],images:a.length>0?a:void 0});break}case"assistant":{let s="",a="";const i=[];for(const l of o)switch(l.type){case"text":{s+=l.text;break}case"tool-call":{i.push({id:l.toolCallId,type:"function",function:{name:l.toolName,arguments:l.input}});break}case"reasoning":{a+=l.text;break}default:throw new Error(`Unsupported part: ${l}`)}r.push({role:"assistant",content:s,...a&&{thinking:a},tool_calls:i.length>0?i:void 0});break}case"tool":{for(const s of o){const a=s.output;let i;switch(a.type){case"text":case"error-text":i=a.value;break;case"content":case"json":case"error-json":i=JSON.stringify(a.value);break}r.push({role:"tool",tool_call_id:s.toolCallId,content:i})}break}default:{const s=n;throw new Error(`Unsupported role: ${s}`)}}return r}var bs=Z({think:Q().optional(),options:Z({num_ctx:_().optional(),repeat_last_n:_().optional(),repeat_penalty:_().optional(),temperature:_().optional(),seed:_().optional(),stop:se(I()).optional(),num_predict:_().optional(),top_k:_().optional(),top_p:_().optional(),min_p:_().optional()}).optional()});function vs({prompt:e,systemMessageMode:t}){const r=[],n=[];for(const{role:o,content:s}of e)switch(o){case"system":{switch(t){case"system":{r.push({role:"system",content:s});break}case"developer":{r.push({role:"developer",content:s});break}case"remove":{n.push({type:"other",message:"system messages are removed for this model"});break}default:{const a=t;throw new Error(`Unsupported system message mode: ${a}`)}}break}case"user":{r.push({role:"user",content:s.map((a,i)=>{var l,c,u;switch(a.type){case"text":return{type:"input_text",text:a.text};case"file":if(a.mediaType.startsWith("image/")){const f=a.mediaType==="image/*"?"image/jpeg":a.mediaType;return{type:"input_image",image_url:a.data instanceof URL?a.data.toString():`data:${f};base64,${a.data}`,detail:(c=(l=a.providerOptions)==null?void 0:l.ollama)==null?void 0:c.imageDetail}}else if(a.mediaType==="application/pdf"){if(a.data instanceof URL)throw new ie({functionality:"PDF file parts with URLs"});return{type:"input_file",filename:(u=a.filename)!=null?u:`part-${i}.pdf`,file_data:`data:application/pdf;base64,${a.data}`}}else throw new ie({functionality:`file part media type ${a.mediaType}`})}})});break}case"assistant":{for(const a of s)switch(a.type){case"text":{r.push({role:"assistant",content:[{type:"output_text",text:a.text}]});break}case"tool-call":{if(a.providerExecuted)break;r.push({type:"function_call",call_id:a.toolCallId,name:a.toolName,arguments:JSON.stringify(a.input)});break}case"tool-result":{n.push({type:"other",message:"tool result parts in assistant messages are not supported for Ollama responses"});break}}break}case"tool":{for(const a of s){const i=a.output;let l;switch(i.type){case"text":case"error-text":l=i.value;break;case"content":case"json":case"error-json":l=JSON.stringify(i.value);break}r.push({type:"function_call_output",call_id:a.toolCallId,output:l})}break}default:{const a=o;throw new Error(`Unsupported role: ${a}`)}}return{messages:r,warnings:n}}function ys({tools:e,toolChoice:t}){e=e?.length?e:void 0;const r=[];if(e==null)return{tools:void 0,toolChoice:void 0,toolWarnings:r};const n=[];for(const s of e)if(s.type==="function"){let a=s.inputSchema;a?a&&typeof a=="object"&&a.type==="object"&&a.properties&&Object.keys(a.properties).length===0&&(a={...a,properties:{},required:[]}):a={type:"object",properties:{},required:[]},n.push({type:"function",function:{name:s.name,description:s.description,parameters:a}})}else r.push({type:"unsupported",feature:"tool",details:s.name});if(t==null)return{tools:n,toolChoice:void 0,toolWarnings:r};const o=t.type;switch(o){case"auto":case"none":case"required":return{tools:n,toolChoice:o,toolWarnings:r};case"tool":return{tools:n,toolChoice:t.toolName=="web_search_preview"?{type:"web_search_preview"}:{type:"function",name:t.toolName},toolWarnings:r};default:{const s=o;throw new ie({functionality:`tool choice type: ${s}`})}}}var ws=class{async buildRequest({modelId:e,maxOutputTokens:t,temperature:r,stopSequences:n,topP:o,topK:s,presencePenalty:a,frequencyPenalty:i,seed:l,prompt:c,providerOptions:u,tools:f,toolChoice:b,responseFormat:k}){const S=this.collectUnsupportedSettingsWarnings({topK:s,seed:l,presencePenalty:a,frequencyPenalty:i,stopSequences:n}),{warnings:m}=vs({prompt:c,systemMessageMode:"system"});S.push(...m);const w=await this.parseProviderOptions(u),P=this.buildBaseArgs({modelId:e,prompt:c,temperature:r,topP:o,maxOutputTokens:t,responseFormat:k,ollamaOptions:w}),{tools:L,toolChoice:M,toolWarnings:U}=ys({tools:f,toolChoice:b});return{args:{...P,tools:L,tool_choice:M},warnings:[...S,...U]}}collectUnsupportedSettingsWarnings({topK:e,seed:t,presencePenalty:r,frequencyPenalty:n,stopSequences:o}){const s=[],a=[{value:e,name:"topK"},{value:t,name:"seed"},{value:r,name:"presencePenalty"},{value:n,name:"frequencyPenalty"},{value:o,name:"stopSequences"}];for(const{value:i,name:l}of a)i!=null&&s.push({type:"unsupported",feature:"setting",details:l});return s}async parseProviderOptions(e){const t=await Rr({provider:"ollama",providerOptions:e,schema:bs});return t??null}buildBaseArgs({modelId:e,prompt:t,temperature:r,topP:n,maxOutputTokens:o,responseFormat:s,ollamaOptions:a}){var i,l;return{model:e,messages:gs({prompt:t,systemMessageMode:"system"}),temperature:r,top_p:n,max_output_tokens:o,...s?.type==="json"&&{format:s.schema!=null?s.schema:"json"},think:(i=a?.think)!=null?i:!1,options:(l=a?.options)!=null?l:void 0}}},ks=class{constructor(e){this.config=e,this.state=this.initializeState()}createTransformStream(e,t){return new TransformStream({transform:(r,n)=>{this.processChunk(r,n,t)},flush:r=>{this.finalizeStream(r)}})}initializeState(){return{finishReason:{unified:"other",raw:void 0},usage:{inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0}},responseId:null,ongoingToolCalls:{},hasToolCalls:!1,isFirstChunk:!0,hasTextStarted:!1,hasReasoningStarted:!1,textEnded:!1,reasoningEnded:!1,textId:oe(),reasoningId:oe()}}processChunk(e,t,r){r?.includeRawChunks&&t.enqueue({type:"raw",rawValue:e.rawValue});const n=hs(e);if(n.length===0){e.success||(this.state.finishReason={unified:"error",raw:void 0},t.enqueue({type:"error",error:e.error}));return}for(const o of n)this.processResponseValue(o,t)}processResponseValue(e,t){if(e&&typeof e=="object"&&"error"in e){this.state.finishReason={unified:"error",raw:void 0},t.enqueue({type:"error",error:e.error});return}this.state.isFirstChunk&&(this.state.isFirstChunk=!1,t.enqueue({type:"response-metadata",...ze(e)})),e.done&&this.handleDoneChunk(e,t);const r=e?.message;r&&this.processDelta(r,t)}handleDoneChunk(e,t){this.state.finishReason=_e(e.done_reason),this.state.usage={inputTokens:{total:e.prompt_eval_count||0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:e.eval_count||0,text:void 0,reasoning:void 0}},this.state.hasTextStarted&&!this.state.textEnded&&(t.enqueue({type:"text-end",id:this.state.textId}),this.state.textEnded=!0),this.state.hasReasoningStarted&&!this.state.reasoningEnded&&(t.enqueue({type:"reasoning-end",id:this.state.reasoningId}),this.state.reasoningEnded=!0)}processDelta(e,t){this.processTextContent(e,t),this.processThinking(e,t),this.processToolCalls(e,t)}processTextContent(e,t){e?.content!=null&&(this.state.hasTextStarted||(t.enqueue({type:"text-start",id:this.state.textId}),this.state.hasTextStarted=!0),t.enqueue({type:"text-delta",id:this.state.textId,delta:e.content}))}processThinking(e,t){e?.thinking&&(this.state.hasReasoningStarted||(t.enqueue({type:"reasoning-start",id:this.state.reasoningId}),this.state.hasReasoningStarted=!0),t.enqueue({type:"reasoning-delta",id:this.state.reasoningId,delta:e.thinking}))}processToolCalls(e,t){var r,n,o,s;for(const a of(r=e.tool_calls)!=null?r:[]){if(((n=a.function)==null?void 0:n.name)==null)throw new jn({data:a,message:"Expected 'function.name' to be a string."});((o=a.function)==null?void 0:o.name)!=null&&((s=a.function)==null?void 0:s.arguments)!=null&&this.emitToolCall(a,t)}}emitToolCall(e,t){var r,n,o,s;const a=(s=e.id)!=null?s:(o=(n=(r=this.config).generateId)==null?void 0:n.call(r))!=null?o:oe();t.enqueue({type:"tool-input-start",id:a,toolName:e.function.name}),t.enqueue({type:"tool-input-delta",id:a,delta:JSON.stringify(e.function.arguments)}),t.enqueue({type:"tool-input-end",id:a}),t.enqueue({type:"tool-call",toolCallId:a,toolName:e.function.name,input:JSON.stringify(e.function.arguments)}),this.state.hasToolCalls=!0}finalizeStream(e){this.state.hasTextStarted&&!this.state.textEnded&&e.enqueue({type:"text-end",id:this.state.textId}),this.state.hasReasoningStarted&&!this.state.reasoningEnded&&e.enqueue({type:"reasoning-end",id:this.state.reasoningId}),e.enqueue({type:"finish",finishReason:this.state.finishReason,usage:this.state.usage,providerMetadata:{ollama:{responseId:this.state.responseId}}})}},xs=class{constructor(e,t){this.specificationVersion="v3",this.defaultObjectGenerationMode=void 0,this.supportsImageUrls=!0,this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t,this.provider=t.provider,this.requestBuilder=new ws,this.responseProcessor=new fs(t)}async doGenerate(e){const{args:t,warnings:r}=await this.prepareRequest(e),{responseHeaders:n,value:o,rawValue:s}=await de({url:this.config.url({path:"/chat",modelId:this.modelId}),headers:ce(this.config.headers(),e.headers),body:{...t,stream:!1},failedResponseHandler:pe,successfulResponseHandler:qe(je),abortSignal:e.abortSignal,fetch:this.config.fetch});return{...this.responseProcessor.processGenerateResponse(o),request:{body:JSON.stringify(t)},response:{modelId:this.modelId,timestamp:new Date,headers:n,body:s},warnings:r}}async doStream(e){const{args:t,warnings:r}=await this.prepareRequest(e),{responseHeaders:n,value:o}=await de({url:this.config.url({path:"/chat",modelId:this.modelId}),headers:ce(this.config.headers(),e.headers),body:{...t,stream:!0},failedResponseHandler:pe,successfulResponseHandler:$r(je),abortSignal:e.abortSignal,fetch:this.config.fetch}),s=new ks(this.config);return{stream:o.pipeThrough(s.createTransformStream(r,e)),request:{body:t},response:{headers:n},warnings:r}}async prepareRequest(e){return await this.requestBuilder.buildRequest({modelId:this.modelId,...e})}};function Tr(e={}){var t,r;const n=(t=as(e.baseURL))!=null?t:"http://127.0.0.1:11434/api",o=(r=e.name)!=null?r:"ollama",s=()=>({"Ollama-Organization":e.organization,"Ollama-Project":e.project,...e.headers}),a=(f,b={})=>new us(f,b,{provider:`${o}.completion`,url:({path:k})=>`${n}${k}`,headers:s,fetch:e.fetch}),i=(f,b={})=>new ps(f,b,{provider:`${o}.embedding`,url:({path:k})=>`${n}${k}`,headers:s,fetch:e.fetch}),l=f=>{if(new.target)throw new Error("The Ollama model function cannot be called with the new keyword.");return c(f)},c=f=>new xs(f,{provider:`${o}.responses`,url:({path:b})=>`${n}${b}`,headers:s,fetch:e.fetch}),u=function(f){return l(f)};return u.specificationVersion="v3",u.languageModel=l,u.chat=l,u.completion=a,u.embedding=i,u.textEmbedding=i,u.textEmbeddingModel=i,u.embeddingModel=i,u.imageModel=f=>{throw new qn({modelId:f,modelType:"imageModel",message:"Image generation is unsupported with Ollama"})},u}Tr();const _s="/deepseek.svg",Ss=Tr({baseURL:"https://sac-ds-api.crustnetwork.io/api"}),Tt=[{id:100001,name:"DeepSeek-R1",icon:_s,model:Ss("deepseek-r1:8b")}];function Vs(){const e=jr.c(3);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={strict:!1},e[0]=t):t=e[0];const r=Lr(t);let n;return e[1]!==r?(n=Tt.find(s=>s.id===r.modelId)??Tt[0],e[1]=r,e[2]=n):n=e[2],n}export{T as A,ue as B,rs as C,As as D,Os as E,qs as F,Zs as G,kr as H,Mn as I,Rs as J,Ps as K,to as L,Vs as M,Tt as N,ae as T,ie as U,Is as a,js as b,Dr as c,ss as d,qe as e,ce as f,xr as g,Ts as h,zs as i,Cs as j,Ds as k,Ms as l,Ns as m,Kn as n,$s as o,de as p,oe as q,Ls as r,De as s,E as t,er as u,es as v,as as w,Ho as x,Cr as y,Ko as z};
