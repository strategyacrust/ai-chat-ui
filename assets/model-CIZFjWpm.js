import{T as St,U as Et,z as E,K as $,H as v,B as C,C as _,A as Ot,y as je,F as It,o as Pt,V as At}from"./main-Cas6F65G.js";var De="vercel.ai.error",$t=Symbol.for(De),ne,ae,y=class Me extends(ae=Error,ne=$t,ae){constructor({name:t,message:r,cause:n}){super(r),this[ne]=!0,this.name=t,this.cause=n}static isInstance(t){return Me.hasMarker(t,De)}static hasMarker(t,r){const n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}},qe="AI_APICallError",Le=`vercel.ai.error.${qe}`,Rt=Symbol.for(Le),se,oe,x=class extends(oe=y,se=Rt,oe){constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:a,responseBody:s,cause:o,isRetryable:i=n!=null&&(n===408||n===409||n===429||n>=500),data:l}){super({name:qe,message:e,cause:o}),this[se]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=a,this.responseBody=s,this.isRetryable=i,this.data=l}static isInstance(e){return y.hasMarker(e,Le)}},Ue="AI_EmptyResponseBodyError",Ve=`vercel.ai.error.${Ue}`,Zt=Symbol.for(Ve),ie,le,Nt=class extends(le=y,ie=Zt,le){constructor({message:e="Empty response body"}={}){super({name:Ue,message:e}),this[ie]=!0}static isInstance(e){return y.hasMarker(e,Ve)}};function ze(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var Be="AI_InvalidArgumentError",He=`vercel.ai.error.${Be}`,Tt=Symbol.for(He),ue,ce,Je=class extends(ce=y,ue=Tt,ce){constructor({message:e,cause:t,argument:r}){super({name:Be,message:e,cause:t}),this[ue]=!0,this.argument=r}static isInstance(e){return y.hasMarker(e,He)}},Fe="AI_InvalidPromptError",We=`vercel.ai.error.${Fe}`,Ct=Symbol.for(We),de,pe,jt=class extends(pe=y,de=Ct,pe){constructor({prompt:e,message:t,cause:r}){super({name:Fe,message:`Invalid prompt: ${t}`,cause:r}),this[de]=!0,this.prompt=e}static isInstance(e){return y.hasMarker(e,We)}},Ge="AI_InvalidResponseDataError",Qe=`vercel.ai.error.${Ge}`,Dt=Symbol.for(Qe),fe,me,Mt=class extends(me=y,fe=Dt,me){constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:Ge,message:t}),this[fe]=!0,this.data=e}static isInstance(e){return y.hasMarker(e,Qe)}},Xe="AI_JSONParseError",Ye=`vercel.ai.error.${Xe}`,qt=Symbol.for(Ye),he,ve,z=class extends(ve=y,he=qt,ve){constructor({text:e,cause:t}){super({name:Xe,message:`JSON parsing failed: Text: ${e}.
Error message: ${ze(t)}`,cause:t}),this[he]=!0,this.text=e}static isInstance(e){return y.hasMarker(e,Ye)}},Ke="AI_NoSuchModelError",et=`vercel.ai.error.${Ke}`,Lt=Symbol.for(et),ge,ye,Ut=class extends(ye=y,ge=Lt,ye){constructor({errorName:e=Ke,modelId:t,modelType:r,message:n=`No such ${r}: ${t}`}){super({name:e,message:n}),this[ge]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return y.hasMarker(e,et)}},tt="AI_TooManyEmbeddingValuesForCallError",rt=`vercel.ai.error.${tt}`,Vt=Symbol.for(rt),be,_e,zt=class extends(_e=y,be=Vt,_e){constructor(e){super({name:tt,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[be]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return y.hasMarker(e,rt)}},nt="AI_TypeValidationError",at=`vercel.ai.error.${nt}`,Bt=Symbol.for(at),we,ke,j=class Q extends(ke=y,we=Bt,ke){constructor({value:t,cause:r}){super({name:nt,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${ze(r)}`,cause:r}),this[we]=!0,this.value=t}static isInstance(t){return y.hasMarker(t,at)}static wrap({value:t,cause:r}){return Q.isInstance(r)&&r.value===t?r:new Q({value:t,cause:r})}},st="AI_UnsupportedFunctionalityError",ot=`vercel.ai.error.${st}`,Ht=Symbol.for(ot),xe,Se,D=class extends(Se=y,xe=Ht,Se){constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:st,message:t}),this[xe]=!0,this.functionality=e}static isInstance(e){return y.hasMarker(e,ot)}},M;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(i=>typeof a[a[i]]!="number"),o={};for(const i of s)o[i]=a[i];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},e.find=(a,s)=>{for(const o of a)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(M||(M={}));var Ee;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Ee||(Ee={}));M.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);M.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class B extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let i=n,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(i[u]=i[u]||{_errors:[]},i[u]._errors.push(r(o))):i[u]=i[u]||{_errors:[]},i=i[u],l++}}};return a(this),n}static assert(t){if(!(t instanceof B))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,M.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r=Object.create(null),n=[];for(const a of this.issues)if(a.path.length>0){const s=a.path[0];r[s]=r[s]||[],r[s].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}B.create=e=>new B(e);var Oe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Oe||(Oe={}));var d;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(d||(d={}));class Ie extends Error{constructor(t,r){super(t),this.name="ParseError",this.type=r.type,this.field=r.field,this.value=r.value,this.line=r.line}}function F(e){}function Jt(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=F,onError:r=F,onRetry:n=F,onComment:a}=e;let s="",o=!0,i,l="",u="";function c(p){const b=o?p.replace(/^\xEF\xBB\xBF/,""):p,[P,Z]=Ft(`${s}${b}`);for(const N of P)f(N);s=Z,o=!1}function f(p){if(p===""){g();return}if(p.startsWith(":")){a&&a(p.slice(p.startsWith(": ")?2:1));return}const b=p.indexOf(":");if(b!==-1){const P=p.slice(0,b),Z=p[b+1]===" "?2:1,N=p.slice(b+Z);m(P,N,p);return}m(p,"",p)}function m(p,b,P){switch(p){case"event":u=b;break;case"data":l=`${l}${b}
`;break;case"id":i=b.includes("\0")?void 0:b;break;case"retry":/^\d+$/.test(b)?n(parseInt(b,10)):r(new Ie(`Invalid \`retry\` value: "${b}"`,{type:"invalid-retry",value:b,line:P}));break;default:r(new Ie(`Unknown field "${p.length>20?`${p.slice(0,20)}â€¦`:p}"`,{type:"unknown-field",field:p,value:b,line:P}));break}}function g(){l.length>0&&t({id:i,event:u||void 0,data:l.endsWith(`
`)?l.slice(0,-1):l}),i=void 0,l="",u=""}function w(p={}){s&&p.consume&&f(s),o=!0,i=void 0,l="",u="",s=""}return{feed:c,reset:w}}function Ft(e){const t=[];let r="",n=0;for(;n<e.length;){const a=e.indexOf("\r",n),s=e.indexOf(`
`,n);let o=-1;if(a!==-1&&s!==-1?o=Math.min(a,s):a!==-1?a===e.length-1?o=-1:o=a:s!==-1&&(o=s),o===-1){r=e.slice(n);break}else{const i=e.slice(n,o);t.push(i),n=o+1,e[n-1]==="\r"&&e[n]===`
`&&n++}}return[t,r]}class Wt extends TransformStream{constructor({onError:t,onRetry:r,onComment:n}={}){let a;super({start(s){a=Jt({onEvent:o=>{s.enqueue(o)},onError(o){t==="terminate"?s.error(o):typeof t=="function"&&t(o)},onRetry:r,onComment:n})},transform(s){a.feed(s)}})}}var Gt={};function q(...e){return e.reduce((t,r)=>({...t,...r??{}}),{})}async function On(e,t){if(e==null)return Promise.resolve();const r=t?.abortSignal;return new Promise((n,a)=>{if(r?.aborted){a(Pe());return}const s=setTimeout(()=>{o(),n()},e),o=()=>{clearTimeout(s),r?.removeEventListener("abort",i)},i=()=>{o(),a(Pe())};r?.addEventListener("abort",i)})}function Pe(){return new DOMException("Delay was aborted","AbortError")}var In=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get promise(){return this._promise?this._promise:(this._promise=new Promise((e,t)=>{this.status.type==="resolved"?e(this.status.value):this.status.type==="rejected"&&t(this.status.error),this._resolve=e,this._reject=t}),this._promise)}resolve(e){var t;this.status={type:"resolved",value:e},this._promise&&((t=this._resolve)==null||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this._promise&&((t=this._reject)==null||t.call(this,e))}isResolved(){return this.status.type==="resolved"}isRejected(){return this.status.type==="rejected"}isPending(){return this.status.type==="pending"}};function R(e){return Object.fromEntries([...e.headers])}var{btoa:Qt,atob:Xt}=globalThis;function Pn(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),r=Xt(t);return Uint8Array.from(r,n=>n.codePointAt(0))}function An(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return Qt(t)}var it="AI_DownloadError",lt=`vercel.ai.error.${it}`,Yt=Symbol.for(lt),Ae,$e,$n=class extends($e=y,Ae=Yt,$e){constructor({url:e,statusCode:t,statusText:r,cause:n,message:a=n==null?`Failed to download ${e}: ${t} ${r}`:`Failed to download ${e}: ${n}`}){super({name:it,message:a,cause:n}),this[Ae]=!0,this.url=e,this.statusCode=t,this.statusText=r}static isInstance(e){return y.hasMarker(e,lt)}},Kt=({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{const a=()=>{const s=r.length,o=new Array(t);for(let i=0;i<t;i++)o[i]=r[Math.random()*s|0];return o.join("")};if(e==null)return a;if(r.includes(n))throw new Je({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return()=>`${e}${n}${a()}`},T=Kt();function Rn(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}function L(e){return(e instanceof Error||e instanceof DOMException)&&(e.name==="AbortError"||e.name==="ResponseAborted"||e.name==="TimeoutError")}var er=["fetch failed","failed to fetch"];function ut({error:e,url:t,requestBodyValues:r}){if(L(e))return e;if(e instanceof TypeError&&er.includes(e.message.toLowerCase())){const n=e.cause;if(n!=null)return new x({message:`Cannot connect to API: ${n.message}`,cause:n,url:t,requestBodyValues:r,isRetryable:!0})}return e}function ct(e=globalThis){var t,r,n;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(n=(r=e.process)==null?void 0:r.versions)!=null&&n.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function tr(e){if(e==null)return{};const t={};if(e instanceof Headers)e.forEach((r,n)=>{t[n.toLowerCase()]=r});else{Array.isArray(e)||(e=Object.entries(e));for(const[r,n]of e)n!=null&&(t[r.toLowerCase()]=n)}return t}function dt(e,...t){const r=new Headers(tr(e)),n=r.get("user-agent")||"";return r.set("user-agent",[n,...t].filter(Boolean).join(" ")),Object.fromEntries(r.entries())}var pt="4.0.4",rr=()=>globalThis.fetch,Zn=async({url:e,headers:t={},successfulResponseHandler:r,failedResponseHandler:n,abortSignal:a,fetch:s=rr()})=>{try{const o=await s(e,{method:"GET",headers:dt(t,`ai-sdk/provider-utils/${pt}`,ct()),signal:a}),i=R(o);if(!o.ok){let l;try{l=await n({response:o,url:e,requestBodyValues:{}})}catch(u){throw L(u)||x.isInstance(u)?u:new x({message:"Failed to process error response",cause:u,statusCode:o.status,url:e,responseHeaders:i,requestBodyValues:{}})}throw l.value}try{return await r({response:o,url:e,requestBodyValues:{}})}catch(l){throw l instanceof Error&&(L(l)||x.isInstance(l))?l:new x({message:"Failed to process successful response",cause:l,statusCode:o.status,url:e,responseHeaders:i,requestBodyValues:{}})}}catch(o){throw ut({error:o,url:e,requestBodyValues:{}})}};function Nn(e){return e!=null}function Tn({mediaType:e,url:t,supportedUrls:r}){return t=t.toLowerCase(),e=e.toLowerCase(),Object.entries(r).map(([n,a])=>{const s=n.toLowerCase();return s==="*"||s==="*/*"?{mediaTypePrefix:"",regexes:a}:{mediaTypePrefix:s.replace(/\*/,""),regexes:a}}).filter(({mediaTypePrefix:n})=>e.startsWith(n)).flatMap(({regexes:n})=>n).some(n=>n.test(t))}function Cn({settingValue:e,environmentVariableName:t}){if(typeof e=="string")return e;if(!(e!=null||typeof process>"u")&&(e=Gt[t],!(e==null||typeof e!="string")))return e}var nr=/"__proto__"\s*:/,ar=/"constructor"\s*:/;function Re(e){const t=JSON.parse(e);return t===null||typeof t!="object"||nr.test(e)===!1&&ar.test(e)===!1?t:sr(t)}function sr(e){let t=[e];for(;t.length;){const r=t;t=[];for(const n of r){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const a in n){const s=n[a];s&&typeof s=="object"&&t.push(s)}}}return e}function ft(e){const{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch{return Re(e)}try{return Re(e)}finally{Error.stackTraceLimit=t}}function mt(e){if(e.type==="object"||Array.isArray(e.type)&&e.type.includes("object")){e.additionalProperties=!1;const{properties:r}=e;if(r!=null)for(const n of Object.keys(r))r[n]=A(r[n])}e.items!=null&&(e.items=Array.isArray(e.items)?e.items.map(A):A(e.items)),e.anyOf!=null&&(e.anyOf=e.anyOf.map(A)),e.allOf!=null&&(e.allOf=e.allOf.map(A)),e.oneOf!=null&&(e.oneOf=e.oneOf.map(A));const{definitions:t}=e;if(t!=null)for(const r of Object.keys(t))t[r]=A(t[r]);return e}function A(e){return typeof e=="boolean"?e:mt(e)}var or=Symbol("Let zodToJsonSchema decide on which parser to use"),Ze={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},ir=e=>typeof e=="string"?{...Ze,name:e}:{...Ze,...e};function S(){return{}}function lr(e,t){var r,n,a;const s={type:"array"};return(r=e.type)!=null&&r._def&&((a=(n=e.type)==null?void 0:n._def)==null?void 0:a.typeName)!==d.ZodAny&&(s.items=h(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(s.minItems=e.minLength.value),e.maxLength&&(s.maxItems=e.maxLength.value),e.exactLength&&(s.minItems=e.exactLength.value,s.maxItems=e.exactLength.value),s}function ur(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const r of e.checks)switch(r.kind){case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}function cr(){return{type:"boolean"}}function ht(e,t){return h(e.type._def,t)}var dr=(e,t)=>h(e.innerType._def,t);function vt(e,t,r){const n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((a,s)=>vt(e,t,a))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return pr(e)}}var pr=e=>{const t={type:"integer",format:"unix-time"};for(const r of e.checks)switch(r.kind){case"min":t.minimum=r.value;break;case"max":t.maximum=r.value;break}return t};function fr(e,t){return{...h(e.innerType._def,t),default:e.defaultValue()}}function mr(e,t){return t.effectStrategy==="input"?h(e.schema._def,t):S()}function hr(e){return{type:"string",enum:Array.from(e.values)}}var vr=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function gr(e,t){const r=[h(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),h(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(a=>!!a),n=[];return r.forEach(a=>{if(vr(a))n.push(...a.allOf);else{let s=a;if("additionalProperties"in a&&a.additionalProperties===!1){const{additionalProperties:o,...i}=a;s=i}n.push(s)}}),n.length?{allOf:n}:void 0}function yr(e){const t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}var W=void 0,O={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(W===void 0&&(W=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),W),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function gt(e,t){const r={type:"string"};if(e.checks)for(const n of e.checks)switch(n.kind){case"min":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value;break;case"max":r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"email":switch(t.emailStrategy){case"format:email":I(r,"email",n.message,t);break;case"format:idn-email":I(r,"idn-email",n.message,t);break;case"pattern:zod":k(r,O.email,n.message,t);break}break;case"url":I(r,"uri",n.message,t);break;case"uuid":I(r,"uuid",n.message,t);break;case"regex":k(r,n.regex,n.message,t);break;case"cuid":k(r,O.cuid,n.message,t);break;case"cuid2":k(r,O.cuid2,n.message,t);break;case"startsWith":k(r,RegExp(`^${G(n.value,t)}`),n.message,t);break;case"endsWith":k(r,RegExp(`${G(n.value,t)}$`),n.message,t);break;case"datetime":I(r,"date-time",n.message,t);break;case"date":I(r,"date",n.message,t);break;case"time":I(r,"time",n.message,t);break;case"duration":I(r,"duration",n.message,t);break;case"length":r.minLength=typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,r.maxLength=typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value;break;case"includes":{k(r,RegExp(G(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&I(r,"ipv4",n.message,t),n.version!=="v4"&&I(r,"ipv6",n.message,t);break}case"base64url":k(r,O.base64url,n.message,t);break;case"jwt":k(r,O.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&k(r,O.ipv4Cidr,n.message,t),n.version!=="v4"&&k(r,O.ipv6Cidr,n.message,t);break}case"emoji":k(r,O.emoji(),n.message,t);break;case"ulid":{k(r,O.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{I(r,"binary",n.message,t);break}case"contentEncoding:base64":{r.contentEncoding="base64";break}case"pattern:zod":{k(r,O.base64,n.message,t);break}}break}case"nanoid":k(r,O.nanoid,n.message,t)}return r}function G(e,t){return t.patternStrategy==="escape"?_r(e):e}var br=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function _r(e){let t="";for(let r=0;r<e.length;r++)br.has(e[r])||(t+="\\"),t+=e[r];return t}function I(e,t,r,n){var a;e.format||(a=e.anyOf)!=null&&a.some(s=>s.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):e.format=t}function k(e,t,r,n){var a;e.pattern||(a=e.allOf)!=null&&a.some(s=>s.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:Ne(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):e.pattern=Ne(t,n)}function Ne(e,t){var r;if(!t.applyRegexFlags||!e.flags)return e.source;const n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},a=n.i?e.source.toLowerCase():e.source;let s="",o=!1,i=!1,l=!1;for(let u=0;u<a.length;u++){if(o){s+=a[u],o=!1;continue}if(n.i){if(i){if(a[u].match(/[a-z]/)){l?(s+=a[u],s+=`${a[u-2]}-${a[u]}`.toUpperCase(),l=!1):a[u+1]==="-"&&((r=a[u+2])!=null&&r.match(/[a-z]/))?(s+=a[u],l=!0):s+=`${a[u]}${a[u].toUpperCase()}`;continue}}else if(a[u].match(/[a-z]/)){s+=`[${a[u]}${a[u].toUpperCase()}]`;continue}}if(n.m){if(a[u]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(a[u]==="$"){s+=`($|(?=[\r
]))`;continue}}if(n.s&&a[u]==="."){s+=i?`${a[u]}\r
`:`[${a[u]}\r
]`;continue}s+=a[u],a[u]==="\\"?o=!0:i&&a[u]==="]"?i=!1:!i&&a[u]==="["&&(i=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function yt(e,t){var r,n,a,s,o,i;const l={type:"object",additionalProperties:(r=h(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?r:t.allowedAdditionalProperties};if(((n=e.keyType)==null?void 0:n._def.typeName)===d.ZodString&&((a=e.keyType._def.checks)!=null&&a.length)){const{type:u,...c}=gt(e.keyType._def,t);return{...l,propertyNames:c}}else{if(((s=e.keyType)==null?void 0:s._def.typeName)===d.ZodEnum)return{...l,propertyNames:{enum:e.keyType._def.values}};if(((o=e.keyType)==null?void 0:o._def.typeName)===d.ZodBranded&&e.keyType._def.type._def.typeName===d.ZodString&&((i=e.keyType._def.type._def.checks)!=null&&i.length)){const{type:u,...c}=ht(e.keyType._def,t);return{...l,propertyNames:c}}}return l}function wr(e,t){if(t.mapStrategy==="record")return yt(e,t);const r=h(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||S(),n=h(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||S();return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}function kr(e){const t=e.values,n=Object.keys(e.values).filter(s=>typeof t[t[s]]!="number").map(s=>t[s]),a=Array.from(new Set(n.map(s=>typeof s)));return{type:a.length===1?a[0]==="string"?"string":"number":["string","number"],enum:n}}function xr(){return{not:S()}}function Sr(){return{type:"null"}}var X={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Er(e,t){const r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in X&&(!n._def.checks||!n._def.checks.length))){const n=r.reduce((a,s)=>{const o=X[s._def.typeName];return o&&!a.includes(o)?[...a,o]:a},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){const n=r.reduce((a,s)=>{const o=typeof s._def.value;switch(o){case"string":case"number":case"boolean":return[...a,o];case"bigint":return[...a,"integer"];case"object":if(s._def.value===null)return[...a,"null"];default:return a}},[]);if(n.length===r.length){const a=n.filter((s,o,i)=>i.indexOf(s)===o);return{type:a.length>1?a:a[0],enum:r.reduce((s,o)=>s.includes(o._def.value)?s:[...s,o._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,a)=>[...n,...a._def.values.filter(s=>!n.includes(s))],[])};return Or(e,t)}var Or=(e,t)=>{const r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,a)=>h(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${a}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0};function Ir(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[X[e.innerType._def.typeName],"null"]};const r=h(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function Pr(e){const t={type:"number"};if(!e.checks)return t;for(const r of e.checks)switch(r.kind){case"int":t.type="integer";break;case"min":r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value;break;case"max":r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value;break;case"multipleOf":t.multipleOf=r.value;break}return t}function Ar(e,t){const r={type:"object",properties:{}},n=[],a=e.shape();for(const o in a){let i=a[o];if(i===void 0||i._def===void 0)continue;const l=Rr(i),u=h(i._def,{...t,currentPath:[...t.currentPath,"properties",o],propertyPath:[...t.currentPath,"properties",o]});u!==void 0&&(r.properties[o]=u,l||n.push(o))}n.length&&(r.required=n);const s=$r(e,t);return s!==void 0&&(r.additionalProperties=s),r}function $r(e,t){if(e.catchall._def.typeName!=="ZodNever")return h(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function Rr(e){try{return e.isOptional()}catch{return!0}}var Zr=(e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return h(e.innerType._def,t);const n=h(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:S()},n]}:S()},Nr=(e,t)=>{if(t.pipeStrategy==="input")return h(e.in._def,t);if(t.pipeStrategy==="output")return h(e.out._def,t);const r=h(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=h(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(a=>a!==void 0)}};function Tr(e,t){return h(e.type._def,t)}function Cr(e,t){const n={type:"array",uniqueItems:!0,items:h(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}function jr(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>h(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:h(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>h(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}function Dr(){return{not:S()}}function Mr(){return S()}var qr=(e,t)=>h(e.innerType._def,t),Lr=(e,t,r)=>{switch(t){case d.ZodString:return gt(e,r);case d.ZodNumber:return Pr(e);case d.ZodObject:return Ar(e,r);case d.ZodBigInt:return ur(e);case d.ZodBoolean:return cr();case d.ZodDate:return vt(e,r);case d.ZodUndefined:return Dr();case d.ZodNull:return Sr();case d.ZodArray:return lr(e,r);case d.ZodUnion:case d.ZodDiscriminatedUnion:return Er(e,r);case d.ZodIntersection:return gr(e,r);case d.ZodTuple:return jr(e,r);case d.ZodRecord:return yt(e,r);case d.ZodLiteral:return yr(e);case d.ZodEnum:return hr(e);case d.ZodNativeEnum:return kr(e);case d.ZodNullable:return Ir(e,r);case d.ZodOptional:return Zr(e,r);case d.ZodMap:return wr(e,r);case d.ZodSet:return Cr(e,r);case d.ZodLazy:return()=>e.getter()._def;case d.ZodPromise:return Tr(e,r);case d.ZodNaN:case d.ZodNever:return xr();case d.ZodEffects:return mr(e,r);case d.ZodAny:return S();case d.ZodUnknown:return Mr();case d.ZodDefault:return fr(e,r);case d.ZodBranded:return ht(e,r);case d.ZodReadonly:return qr(e,r);case d.ZodCatch:return dr(e,r);case d.ZodPipeline:return Nr(e,r);case d.ZodFunction:case d.ZodVoid:case d.ZodSymbol:return;default:return(n=>{})()}},Ur=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")};function h(e,t,r=!1){var n;const a=t.seen.get(e);if(t.override){const l=(n=t.override)==null?void 0:n.call(t,e,t,a,r);if(l!==or)return l}if(a&&!r){const l=Vr(a,t);if(l!==void 0)return l}const s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);const o=Lr(e,e.typeName,t),i=typeof o=="function"?h(o(),t):o;if(i&&zr(e,t,i),t.postProcess){const l=t.postProcess(i,e,t);return s.jsonSchema=i,l}return s.jsonSchema=i,i}var Vr=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:Ur(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),S()):t.$refStrategy==="seen"?S():void 0}},zr=(e,t,r)=>(e.description&&(r.description=e.description),r),Br=e=>{const t=ir(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,a])=>[a._def,{def:a._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}},Hr=(e,t)=>{var r;const n=Br(t);let a=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((u,[c,f])=>{var m;return{...u,[c]:(m=h(f._def,{...n,currentPath:[...n.basePath,n.definitionPath,c]},!0))!=null?m:S()}},{}):void 0;const s=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,o=(r=h(e._def,s===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,s]},!1))!=null?r:S(),i=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;i!==void 0&&(o.title=i);const l=s===void 0?a?{...o,[n.definitionPath]:a}:o:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,s].join("/"),[n.definitionPath]:{...a,[s]:o}};return l.$schema="http://json-schema.org/draft-07/schema#",l},Y=Symbol.for("vercel.ai.schema");function jn(e){let t;return()=>(t==null&&(t=e()),t)}function J(e,{validate:t}={}){return{[Y]:!0,_type:void 0,get jsonSchema(){return typeof e=="function"&&(e=e()),e},validate:t}}function Jr(e){return typeof e=="object"&&e!==null&&Y in e&&e[Y]===!0&&"jsonSchema"in e&&"validate"in e}function Fr(e){return e==null?J({properties:{},additionalProperties:!1}):Jr(e)?e:"~standard"in e?e["~standard"].vendor==="zod"?Yr(e):Wr(e):e()}function Wr(e){return J(()=>e["~standard"].jsonSchema.input({target:"draft-07"}),{validate:async t=>{const r=await e["~standard"].validate(t);return"value"in r?{success:!0,value:r.value}:{success:!1,error:new j({value:t,cause:r.issues})}}})}function Gr(e,t){var r;const n=(r=void 0)!=null?r:!1;return J(()=>Hr(e,{$refStrategy:n?"root":"none"}),{validate:async a=>{const s=await e.safeParseAsync(a);return s.success?{success:!0,value:s.data}:{success:!1,error:s.error}}})}function Qr(e,t){var r;const n=(r=void 0)!=null?r:!1;return J(()=>mt(Et(e,{target:"draft-7",io:"input",reused:n?"ref":"inline"})),{validate:async a=>{const s=await St(e,a);return s.success?{success:!0,value:s.data}:{success:!1,error:s.error}}})}function Xr(e){return"_zod"in e}function Yr(e,t){return Xr(e)?Qr(e):Gr(e)}async function Kr({value:e,schema:t}){const r=await te({value:e,schema:t});if(!r.success)throw j.wrap({value:e,cause:r.error});return r.value}async function te({value:e,schema:t}){const r=Fr(t);try{if(r.validate==null)return{success:!0,value:e,rawValue:e};const n=await r.validate(e);return n.success?{success:!0,value:n.value,rawValue:e}:{success:!1,error:j.wrap({value:e,cause:n.error}),rawValue:e}}catch(n){return{success:!1,error:j.wrap({value:e,cause:n}),rawValue:e}}}async function en({text:e,schema:t}){try{const r=ft(e);return t==null?r:Kr({value:r,schema:t})}catch(r){throw z.isInstance(r)||j.isInstance(r)?r:new z({text:e,cause:r})}}async function bt({text:e,schema:t}){try{const r=ft(e);return t==null?{success:!0,value:r,rawValue:r}:await te({value:r,schema:t})}catch(r){return{success:!1,error:z.isInstance(r)?r:new z({text:e,cause:r}),rawValue:void 0}}}function tn({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new Wt).pipeThrough(new TransformStream({async transform({data:r},n){r!=="[DONE]"&&n.enqueue(await bt({text:r,schema:t}))}}))}async function _t({provider:e,providerOptions:t,schema:r}){if(t?.[e]==null)return;const n=await te({value:t[e],schema:r});if(!n.success)throw new Je({argument:"providerOptions",message:`invalid ${e} provider options`,cause:n.error});return n.value}var rn=()=>globalThis.fetch,U=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:a,abortSignal:s,fetch:o})=>nn({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:a,abortSignal:s,fetch:o}),nn=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:a,abortSignal:s,fetch:o=rn()})=>{try{const i=await o(e,{method:"POST",headers:dt(t,`ai-sdk/provider-utils/${pt}`,ct()),body:r.content,signal:s}),l=R(i);if(!i.ok){let u;try{u=await a({response:i,url:e,requestBodyValues:r.values})}catch(c){throw L(c)||x.isInstance(c)?c:new x({message:"Failed to process error response",cause:c,statusCode:i.status,url:e,responseHeaders:l,requestBodyValues:r.values})}throw u.value}try{return await n({response:i,url:e,requestBodyValues:r.values})}catch(u){throw u instanceof Error&&(L(u)||x.isInstance(u))?u:new x({message:"Failed to process successful response",cause:u,statusCode:i.status,url:e,responseHeaders:l,requestBodyValues:r.values})}}catch(i){throw ut({error:i,url:e,requestBodyValues:r.values})}};function Dn({id:e,inputSchema:t,outputSchema:r,supportsDeferredResults:n}){return({execute:a,needsApproval:s,toModelOutput:o,onInputStart:i,onInputDelta:l,onInputAvailable:u,...c})=>({type:"provider",id:e,args:c,inputSchema:t,outputSchema:r,execute:a,needsApproval:s,toModelOutput:o,onInputStart:i,onInputDelta:l,onInputAvailable:u,supportsDeferredResults:n})}async function Mn(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var an=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:a,requestBodyValues:s})=>{const o=await n.text(),i=R(n);if(o.trim()==="")return{responseHeaders:i,value:new x({message:n.statusText,url:a,requestBodyValues:s,statusCode:n.status,responseHeaders:i,responseBody:o,isRetryable:r?.(n)})};try{const l=await en({text:o,schema:e});return{responseHeaders:i,value:new x({message:t(l),url:a,requestBodyValues:s,statusCode:n.status,responseHeaders:i,responseBody:o,data:l,isRetryable:r?.(n,l)})}}catch{return{responseHeaders:i,value:new x({message:n.statusText,url:a,requestBodyValues:s,statusCode:n.status,responseHeaders:i,responseBody:o,isRetryable:r?.(n)})}}},qn=e=>async({response:t})=>{const r=R(t);if(t.body==null)throw new Nt({});return{responseHeaders:r,value:tn({stream:t.body,schema:e})}},re=e=>async({response:t,url:r,requestBodyValues:n})=>{const a=await t.text(),s=await bt({text:a,schema:e}),o=R(t);if(!s.success)throw new x({message:"Invalid JSON response",cause:s.error,statusCode:t.status,responseHeaders:o,responseBody:a,url:r,requestBodyValues:n});return{responseHeaders:o,value:s.value,rawValue:s.rawValue}};function sn(e){return e?.replace(/\/$/,"")}function on(e){return e!=null&&typeof e[Symbol.asyncIterator]=="function"}async function*Ln({execute:e,input:t,options:r}){const n=e(t,r);if(on(n)){let a;for await(const s of n)a=s,yield{type:"preliminary",output:s};yield{type:"final",output:a}}else yield{type:"final",output:await n}}function ln({prompt:e,user:t="user",assistant:r="assistant"}){let n="";e[0].role==="system"&&(n+=`${e[0].content}

`,e=e.slice(1));for(const{role:a,content:s}of e)switch(a){case"system":throw new jt({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{const o=s.map(i=>{if(i.type==="text")return i.text}).filter(Boolean).join("");n+=`${t}:
${o}

`;break}case"assistant":{const o=s.map(i=>{switch(i.type){case"text":return i.text;case"tool-call":throw new D({functionality:"tool-call messages"})}}).join("");n+=`${r}:
${o}

`;break}case"tool":throw new D({functionality:"tool messages"});default:{const o=a;throw new Error(`Unsupported role: ${o}`)}}return n+=`${r}:
`,{prompt:n,stopSequences:[`
${t}:`]}}function H(e){switch(e){case"stop":return{raw:e,unified:"stop"};case"length":return{raw:e,unified:"length"};case"content_filter":return{raw:e,unified:"content-filter"};case"function_call":case"tool_calls":return{raw:e,unified:"tool-calls"};default:return{raw:e,unified:"other"}}}function K({model:e,created_at:t}){return{id:void 0,modelId:e??void 0,timestamp:t!=null?new Date(t):void 0}}function wt(e){return async({response:t})=>{const r=R(t);if(t.body==null)throw new Error("Response body is null");const n=t.body.getReader(),a=new TextDecoder;let s="";const o=new ReadableStream({async pull(i){for(;;){const{done:l,value:u}=await n.read();if(l){if(s.trim())try{const f=JSON.parse(s.trim()),m=e.parse(f);i.enqueue({success:!0,value:m,rawValue:m})}catch{}i.close();return}s+=a.decode(u,{stream:!0});const c=s.split(`
`);s=c.pop()||"";for(const f of c){const m=f.trim();if(m)try{const g=JSON.parse(m),w=e.parse(g);i.enqueue({success:!0,value:w,rawValue:w})}catch(g){console.warn("Failed to parse NDJSON line:",g)}}}},cancel(){n.cancel()}});return{responseHeaders:r,value:o}}}var un=E({error:E({message:_(),type:_().nullish(),param:je().nullish(),code:It([_(),v()]).nullish()})}),V=an({errorSchema:un,errorToMessage:e=>e.error.message});E({think:$().optional(),user:_().optional(),suffix:_().optional(),echo:$().optional()});var cn=class{constructor(e,t,r){this.specificationVersion="v3",this.defaultObjectGenerationMode=void 0,this.supportsImageUrls=!1,this.supportedUrls={},this.modelId=e,this.settings=t,this.config=r,this.provider=r.provider}getArgs({prompt:e,maxOutputTokens:t,temperature:r,topP:n,topK:a,frequencyPenalty:s,presencePenalty:o,stopSequences:i,responseFormat:l,tools:u,toolChoice:c,seed:f}){const m=[];a!=null&&m.push({type:"unsupported",feature:"topK"}),u?.length&&m.push({type:"unsupported",feature:"tools"}),c!=null&&m.push({type:"unsupported",feature:"toolChoice"}),l!=null&&l.type!=="text"&&m.push({type:"unsupported",feature:"responseFormat (JSON)"});const{prompt:g,stopSequences:w}=ln({prompt:e}),p=[...w??[],...i??[]];return{args:{model:this.modelId,user:this.settings.user,think:this.settings.think,max_tokens:t,temperature:r,top_p:n,frequency_penalty:s,presence_penalty:o,stop:p,prompt:g,suffix:this.settings.suffix,echo:this.settings.echo,stream:!1},warnings:m}}async doGenerate(e){var t,r;const{args:n,warnings:a}=this.getArgs(e),{responseHeaders:s,value:o,rawValue:i}=await U({url:this.config.url({path:"/generate",modelId:this.modelId}),headers:q(this.config.headers(),e.headers),body:{...n,stream:!1},failedResponseHandler:V,successfulResponseHandler:re(Te),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:l,...u}=n,c=o;return{content:[{type:"text",text:c.response}],usage:{inputTokens:{total:(t=c.prompt_eval_count)!=null?t:0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:(r=c.eval_count)!=null?r:0,text:void 0,reasoning:void 0}},finishReason:H("stop"),request:{body:JSON.stringify(n)},response:{...K(c),headers:s,body:i},warnings:a}}async doStream(e){const{args:t,warnings:r}=this.getArgs(e),n={...t,stream:!0},{responseHeaders:a,value:s}=await U({url:this.config.url({path:"/generate",modelId:this.modelId}),headers:q(this.config.headers(),e.headers),body:n,failedResponseHandler:V,successfulResponseHandler:wt(Te),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:o,...i}=t;let l="other",u={inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0}},c=!0,f=!1;const m=T();return{stream:s.pipeThrough(new TransformStream({transform(g,w){if(!g.success){w.enqueue({type:"error",error:g.rawValue});return}const p=g.value;if("error"in p){l="error",w.enqueue({type:"error",error:p.error});return}c&&(c=!1,w.enqueue({type:"response-metadata",...K(p)})),p.done&&(l="stop"),p.response!=null&&(f||(w.enqueue({type:"text-start",id:m}),f=!0),w.enqueue({type:"text-delta",id:m,delta:p.response}))},flush(g){f&&g.enqueue({type:"text-end",id:m}),g.enqueue({type:"finish",finishReason:H(l),usage:u})}})),request:{body:JSON.stringify(n)},response:{headers:a},warnings:r}}},Te=E({model:_(),created_at:_(),response:_(),done:$(),context:C(v()),eval_count:v().optional(),eval_duration:v().optional(),load_duration:v().optional(),total_duration:v().optional(),prompt_eval_count:v().optional(),prompt_eval_duration:v().optional()}),dn=E({dimensions:v().optional(),truncate:$().optional(),keepAlive:_().optional()}),pn=class{constructor(e,t,r){this.specificationVersion="v3";var n,a;this.modelId=e,this.settings=t,this.config=r,this.provider=r.provider,this.maxEmbeddingsPerCall=(n=t.maxEmbeddingsPerCall)!=null?n:2048,this.supportsParallelCalls=(a=t.supportsParallelCalls)!=null?a:!0}getArgs({values:e}){return{model:this.modelId,input:e,dimensions:this.settings.dimensions,truncate:this.settings.truncate,keep_alive:this.settings.keepAlive}}async doEmbed({values:e,headers:t,abortSignal:r,providerOptions:n}){var a,s,o;if(this.maxEmbeddingsPerCall&&e.length>this.maxEmbeddingsPerCall)throw new zt({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const i=await _t({provider:"ollama",providerOptions:n,schema:dn}),l=(a=i?.dimensions)!=null?a:this.settings.dimensions,u=(s=i?.truncate)!=null?s:this.settings.truncate,c=(o=i?.keepAlive)!=null?o:this.settings.keepAlive,f={model:this.modelId,input:e};l!==void 0&&(f.dimensions=l),u!==void 0&&(f.truncate=u),c!==void 0&&(f.keep_alive=c);const{responseHeaders:m,value:g,rawValue:w}=await U({url:this.config.url({path:"/embed",modelId:this.modelId}),headers:q(this.config.headers(),t),body:{...f},failedResponseHandler:V,successfulResponseHandler:re(fn),abortSignal:r,fetch:this.config.fetch}),p=g;return{embeddings:p.embeddings.map(b=>b),usage:{tokens:p.prompt_eval_count},response:{headers:m,body:w},warnings:[]}}},fn=E({model:_(),embeddings:C(C(v())),total_duration:v(),load_duration:v(),prompt_eval_count:v()}),ee=E({model:_(),created_at:_(),done:$(),message:E({content:_(),role:_(),thinking:_().optional(),tool_calls:C(E({function:E({name:_(),arguments:Ot(_(),je())}),id:_().optional()})).optional().nullable()}),done_reason:_().optional(),eval_count:v().optional(),eval_duration:v().optional(),load_duration:v().optional(),prompt_eval_count:v().optional(),prompt_eval_duration:v().optional(),total_duration:v().optional()}),mn=class{constructor(e){this.config=e}processGenerateResponse(e){const t=this.extractContent(e),r=H(e.done_reason),n=this.extractUsage(e);return{content:t,finishReason:r,usage:n,providerMetadata:{ollama:{}}}}extractContent(e){var t,r,n,a,s;const o=[],i=e.message.content;i!=null&&i.length>0&&o.push({type:"text",text:i});const l=e.message.thinking;l!=null&&l.length>0&&o.push({type:"reasoning",text:l});for(const u of(t=e.message.tool_calls)!=null?t:[])o.push({type:"tool-call",toolCallId:(s=u.id)!=null?s:(a=(n=(r=this.config).generateId)==null?void 0:n.call(r))!=null?a:T(),toolName:u.function.name,input:JSON.stringify(u.function.arguments)});return o}extractUsage(e){var t,r;return{inputTokens:{total:(t=e.prompt_eval_count)!=null?t:0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:(r=e.eval_count)!=null?r:0,text:void 0,reasoning:void 0}}}};function hn(e){var t;if(e.success)return[e.value];const r=[],n=(t=e.error)==null?void 0:t.text;if(typeof n!="string"||n.length===0)return r;const a=n.split(/\r?\n/);for(const s of a){const o=s.trim();if(o!=="")try{const i=JSON.parse(o),l=ee.safeParse(i);l.success&&r.push(l.data)}catch{}}return r}function vn({prompt:e,systemMessageMode:t="system"}){const r=[];for(const{role:n,content:a}of e)switch(n){case"system":{switch(t){case"system":{r.push({role:"system",content:a});break}case"developer":{r.push({role:"developer",content:a});break}case"remove":break;default:{const s=t;throw new Error(`Unsupported system message mode: ${s}`)}}break}case"user":{if(a.length===1&&a[0].type==="text"){r.push({role:"user",content:a[0].text});break}const s=a.filter(i=>i.type==="text").map(i=>i.text).join(""),o=a.filter(i=>i.type==="file"&&i.mediaType.startsWith("image/")).map(i=>i.data);r.push({role:"user",content:s.length>0?s:[],images:o.length>0?o:void 0});break}case"assistant":{let s="",o="";const i=[];for(const l of a)switch(l.type){case"text":{s+=l.text;break}case"tool-call":{i.push({id:l.toolCallId,type:"function",function:{name:l.toolName,arguments:l.input}});break}case"reasoning":{o+=l.text;break}default:throw new Error(`Unsupported part: ${l}`)}r.push({role:"assistant",content:s,...o&&{thinking:o},tool_calls:i.length>0?i:void 0});break}case"tool":{for(const s of a){const o=s.output;let i;switch(o.type){case"text":case"error-text":i=o.value;break;case"content":case"json":case"error-json":i=JSON.stringify(o.value);break}r.push({role:"tool",tool_call_id:s.toolCallId,content:i})}break}default:{const s=n;throw new Error(`Unsupported role: ${s}`)}}return r}var gn=E({think:$().optional(),options:E({num_ctx:v().optional(),repeat_last_n:v().optional(),repeat_penalty:v().optional(),temperature:v().optional(),seed:v().optional(),stop:C(_()).optional(),num_predict:v().optional(),top_k:v().optional(),top_p:v().optional(),min_p:v().optional()}).optional()});function yn({prompt:e,systemMessageMode:t}){const r=[],n=[];for(const{role:a,content:s}of e)switch(a){case"system":{switch(t){case"system":{r.push({role:"system",content:s});break}case"developer":{r.push({role:"developer",content:s});break}case"remove":{n.push({type:"other",message:"system messages are removed for this model"});break}default:{const o=t;throw new Error(`Unsupported system message mode: ${o}`)}}break}case"user":{r.push({role:"user",content:s.map((o,i)=>{var l,u,c;switch(o.type){case"text":return{type:"input_text",text:o.text};case"file":if(o.mediaType.startsWith("image/")){const f=o.mediaType==="image/*"?"image/jpeg":o.mediaType;return{type:"input_image",image_url:o.data instanceof URL?o.data.toString():`data:${f};base64,${o.data}`,detail:(u=(l=o.providerOptions)==null?void 0:l.ollama)==null?void 0:u.imageDetail}}else if(o.mediaType==="application/pdf"){if(o.data instanceof URL)throw new D({functionality:"PDF file parts with URLs"});return{type:"input_file",filename:(c=o.filename)!=null?c:`part-${i}.pdf`,file_data:`data:application/pdf;base64,${o.data}`}}else throw new D({functionality:`file part media type ${o.mediaType}`})}})});break}case"assistant":{for(const o of s)switch(o.type){case"text":{r.push({role:"assistant",content:[{type:"output_text",text:o.text}]});break}case"tool-call":{if(o.providerExecuted)break;r.push({type:"function_call",call_id:o.toolCallId,name:o.toolName,arguments:JSON.stringify(o.input)});break}case"tool-result":{n.push({type:"other",message:"tool result parts in assistant messages are not supported for Ollama responses"});break}}break}case"tool":{for(const o of s){const i=o.output;let l;switch(i.type){case"text":case"error-text":l=i.value;break;case"content":case"json":case"error-json":l=JSON.stringify(i.value);break}r.push({type:"function_call_output",call_id:o.toolCallId,output:l})}break}default:{const o=a;throw new Error(`Unsupported role: ${o}`)}}return{messages:r,warnings:n}}function bn({tools:e,toolChoice:t}){e=e?.length?e:void 0;const r=[];if(e==null)return{tools:void 0,toolChoice:void 0,toolWarnings:r};const n=[];for(const s of e)if(s.type==="function"){let o=s.inputSchema;o?o&&typeof o=="object"&&o.type==="object"&&o.properties&&Object.keys(o.properties).length===0&&(o={...o,properties:{},required:[]}):o={type:"object",properties:{},required:[]},n.push({type:"function",function:{name:s.name,description:s.description,parameters:o}})}else r.push({type:"unsupported",feature:"tool",details:s.name});if(t==null)return{tools:n,toolChoice:void 0,toolWarnings:r};const a=t.type;switch(a){case"auto":case"none":case"required":return{tools:n,toolChoice:a,toolWarnings:r};case"tool":return{tools:n,toolChoice:t.toolName=="web_search_preview"?{type:"web_search_preview"}:{type:"function",name:t.toolName},toolWarnings:r};default:{const s=a;throw new D({functionality:`tool choice type: ${s}`})}}}var _n=class{async buildRequest({modelId:e,maxOutputTokens:t,temperature:r,stopSequences:n,topP:a,topK:s,presencePenalty:o,frequencyPenalty:i,seed:l,prompt:u,providerOptions:c,tools:f,toolChoice:m,responseFormat:g}){const w=this.collectUnsupportedSettingsWarnings({topK:s,seed:l,presencePenalty:o,frequencyPenalty:i,stopSequences:n}),{warnings:p}=yn({prompt:u,systemMessageMode:"system"});w.push(...p);const b=await this.parseProviderOptions(c),P=this.buildBaseArgs({modelId:e,prompt:u,temperature:r,topP:a,maxOutputTokens:t,responseFormat:g,ollamaOptions:b}),{tools:Z,toolChoice:N,toolWarnings:xt}=bn({tools:f,toolChoice:m});return{args:{...P,tools:Z,tool_choice:N},warnings:[...w,...xt]}}collectUnsupportedSettingsWarnings({topK:e,seed:t,presencePenalty:r,frequencyPenalty:n,stopSequences:a}){const s=[],o=[{value:e,name:"topK"},{value:t,name:"seed"},{value:r,name:"presencePenalty"},{value:n,name:"frequencyPenalty"},{value:a,name:"stopSequences"}];for(const{value:i,name:l}of o)i!=null&&s.push({type:"unsupported",feature:"setting",details:l});return s}async parseProviderOptions(e){const t=await _t({provider:"ollama",providerOptions:e,schema:gn});return t??null}buildBaseArgs({modelId:e,prompt:t,temperature:r,topP:n,maxOutputTokens:a,responseFormat:s,ollamaOptions:o}){var i,l;return{model:e,messages:vn({prompt:t,systemMessageMode:"system"}),temperature:r,top_p:n,max_output_tokens:a,...s?.type==="json"&&{format:s.schema!=null?s.schema:"json"},think:(i=o?.think)!=null?i:!1,options:(l=o?.options)!=null?l:void 0}}},wn=class{constructor(e){this.config=e,this.state=this.initializeState()}createTransformStream(e,t){return new TransformStream({transform:(r,n)=>{this.processChunk(r,n,t)},flush:r=>{this.finalizeStream(r)}})}initializeState(){return{finishReason:{unified:"other",raw:void 0},usage:{inputTokens:{total:void 0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:void 0,text:void 0,reasoning:void 0}},responseId:null,ongoingToolCalls:{},hasToolCalls:!1,isFirstChunk:!0,hasTextStarted:!1,hasReasoningStarted:!1,textEnded:!1,reasoningEnded:!1,textId:T(),reasoningId:T()}}processChunk(e,t,r){r?.includeRawChunks&&t.enqueue({type:"raw",rawValue:e.rawValue});const n=hn(e);if(n.length===0){e.success||(this.state.finishReason={unified:"error",raw:void 0},t.enqueue({type:"error",error:e.error}));return}for(const a of n)this.processResponseValue(a,t)}processResponseValue(e,t){if(e&&typeof e=="object"&&"error"in e){this.state.finishReason={unified:"error",raw:void 0},t.enqueue({type:"error",error:e.error});return}this.state.isFirstChunk&&(this.state.isFirstChunk=!1,t.enqueue({type:"response-metadata",...K(e)})),e.done&&this.handleDoneChunk(e,t);const r=e?.message;r&&this.processDelta(r,t)}handleDoneChunk(e,t){this.state.finishReason=H(e.done_reason),this.state.usage={inputTokens:{total:e.prompt_eval_count||0,noCache:void 0,cacheRead:void 0,cacheWrite:void 0},outputTokens:{total:e.eval_count||0,text:void 0,reasoning:void 0}},this.state.hasTextStarted&&!this.state.textEnded&&(t.enqueue({type:"text-end",id:this.state.textId}),this.state.textEnded=!0),this.state.hasReasoningStarted&&!this.state.reasoningEnded&&(t.enqueue({type:"reasoning-end",id:this.state.reasoningId}),this.state.reasoningEnded=!0)}processDelta(e,t){this.processTextContent(e,t),this.processThinking(e,t),this.processToolCalls(e,t)}processTextContent(e,t){e?.content!=null&&(this.state.hasTextStarted||(t.enqueue({type:"text-start",id:this.state.textId}),this.state.hasTextStarted=!0),t.enqueue({type:"text-delta",id:this.state.textId,delta:e.content}))}processThinking(e,t){e?.thinking&&(this.state.hasReasoningStarted||(t.enqueue({type:"reasoning-start",id:this.state.reasoningId}),this.state.hasReasoningStarted=!0),t.enqueue({type:"reasoning-delta",id:this.state.reasoningId,delta:e.thinking}))}processToolCalls(e,t){var r,n,a,s;for(const o of(r=e.tool_calls)!=null?r:[]){if(((n=o.function)==null?void 0:n.name)==null)throw new Mt({data:o,message:"Expected 'function.name' to be a string."});((a=o.function)==null?void 0:a.name)!=null&&((s=o.function)==null?void 0:s.arguments)!=null&&this.emitToolCall(o,t)}}emitToolCall(e,t){var r,n,a,s;const o=(s=e.id)!=null?s:(a=(n=(r=this.config).generateId)==null?void 0:n.call(r))!=null?a:T();t.enqueue({type:"tool-input-start",id:o,toolName:e.function.name}),t.enqueue({type:"tool-input-delta",id:o,delta:JSON.stringify(e.function.arguments)}),t.enqueue({type:"tool-input-end",id:o}),t.enqueue({type:"tool-call",toolCallId:o,toolName:e.function.name,input:JSON.stringify(e.function.arguments)}),this.state.hasToolCalls=!0}finalizeStream(e){this.state.hasTextStarted&&!this.state.textEnded&&e.enqueue({type:"text-end",id:this.state.textId}),this.state.hasReasoningStarted&&!this.state.reasoningEnded&&e.enqueue({type:"reasoning-end",id:this.state.reasoningId}),e.enqueue({type:"finish",finishReason:this.state.finishReason,usage:this.state.usage,providerMetadata:{ollama:{responseId:this.state.responseId}}})}},kn=class{constructor(e,t){this.specificationVersion="v3",this.defaultObjectGenerationMode=void 0,this.supportsImageUrls=!0,this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t,this.provider=t.provider,this.requestBuilder=new _n,this.responseProcessor=new mn(t)}async doGenerate(e){const{args:t,warnings:r}=await this.prepareRequest(e),{responseHeaders:n,value:a,rawValue:s}=await U({url:this.config.url({path:"/chat",modelId:this.modelId}),headers:q(this.config.headers(),e.headers),body:{...t,stream:!1},failedResponseHandler:V,successfulResponseHandler:re(ee),abortSignal:e.abortSignal,fetch:this.config.fetch});return{...this.responseProcessor.processGenerateResponse(a),request:{body:JSON.stringify(t)},response:{modelId:this.modelId,timestamp:new Date,headers:n,body:s},warnings:r}}async doStream(e){const{args:t,warnings:r}=await this.prepareRequest(e),{responseHeaders:n,value:a}=await U({url:this.config.url({path:"/chat",modelId:this.modelId}),headers:q(this.config.headers(),e.headers),body:{...t,stream:!0},failedResponseHandler:V,successfulResponseHandler:wt(ee),abortSignal:e.abortSignal,fetch:this.config.fetch}),s=new wn(this.config);return{stream:a.pipeThrough(s.createTransformStream(r,e)),request:{body:t},response:{headers:n},warnings:r}}async prepareRequest(e){return await this.requestBuilder.buildRequest({modelId:this.modelId,...e})}};function kt(e={}){var t,r;const n=(t=sn(e.baseURL))!=null?t:"http://127.0.0.1:11434/api",a=(r=e.name)!=null?r:"ollama",s=()=>({"Ollama-Organization":e.organization,"Ollama-Project":e.project,...e.headers}),o=(f,m={})=>new cn(f,m,{provider:`${a}.completion`,url:({path:g})=>`${n}${g}`,headers:s,fetch:e.fetch}),i=(f,m={})=>new pn(f,m,{provider:`${a}.embedding`,url:({path:g})=>`${n}${g}`,headers:s,fetch:e.fetch}),l=f=>{if(new.target)throw new Error("The Ollama model function cannot be called with the new keyword.");return u(f)},u=f=>new kn(f,{provider:`${a}.responses`,url:({path:m})=>`${n}${m}`,headers:s,fetch:e.fetch}),c=function(f){return l(f)};return c.specificationVersion="v3",c.languageModel=l,c.chat=l,c.completion=o,c.embedding=i,c.textEmbedding=i,c.textEmbeddingModel=i,c.embeddingModel=i,c.imageModel=f=>{throw new Ut({modelId:f,modelType:"imageModel",message:"Image generation is unsupported with Ollama"})},c}kt();const xn="/deepseek.svg",Sn=kt({baseURL:"https://sac-ds-api.crustnetwork.io/api"}),Ce=[{id:100001,name:"DeepSeek-R1",icon:xn,model:Sn("deepseek-r1:8b")}];function Un(){const e=Pt.c(3);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={strict:!1},e[0]=t):t=e[0];const r=At(t);let n;return e[1]!==r?(n=Ce.find(s=>s.id===r.modelId)??Ce[0],e[1]=r,e[2]=n):n=e[2],n}export{x as A,On as B,Ln as C,In as D,Tn as E,ct as F,$n as G,Pn as H,jt as I,tr as J,Un as K,Ce as L,j as T,D as U,an as a,re as b,Dn as c,q as d,dt as e,jn as f,Zn as g,An as h,qn as i,Nn as j,Kt as k,Cn as l,Rn as m,T as n,y as o,U as p,ze as q,Mn as r,te as s,Fr as t,bt as u,Kr as v,sn as w,L as x,tn as y,Yr as z};
